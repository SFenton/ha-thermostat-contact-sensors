2026-01-03T22:05:18.4140575Z Current runner version: '2.330.0'
2026-01-03T22:05:18.4164580Z ##[group]Runner Image Provisioner
2026-01-03T22:05:18.4165349Z Hosted Compute Agent
2026-01-03T22:05:18.4166099Z Version: 20251211.462
2026-01-03T22:05:18.4167212Z Commit: 6cbad8c2bb55d58165063d031ccabf57e2d2db61
2026-01-03T22:05:18.4168243Z Build Date: 2025-12-11T16:28:49Z
2026-01-03T22:05:18.4169276Z Worker ID: {1a77d781-dec0-4122-9aae-7f6813d3dde3}
2026-01-03T22:05:18.4170240Z ##[endgroup]
2026-01-03T22:05:18.4170740Z ##[group]Operating System
2026-01-03T22:05:18.4171373Z Ubuntu
2026-01-03T22:05:18.4171813Z 24.04.3
2026-01-03T22:05:18.4172290Z LTS
2026-01-03T22:05:18.4172751Z ##[endgroup]
2026-01-03T22:05:18.4173288Z ##[group]Runner Image
2026-01-03T22:05:18.4173805Z Image: ubuntu-24.04
2026-01-03T22:05:18.4174392Z Version: 20251215.174.1
2026-01-03T22:05:18.4175418Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20251215.174/images/ubuntu/Ubuntu2404-Readme.md
2026-01-03T22:05:18.4177316Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20251215.174
2026-01-03T22:05:18.4178365Z ##[endgroup]
2026-01-03T22:05:18.4179495Z ##[group]GITHUB_TOKEN Permissions
2026-01-03T22:05:18.4181286Z Contents: read
2026-01-03T22:05:18.4181833Z Metadata: read
2026-01-03T22:05:18.4182408Z Packages: read
2026-01-03T22:05:18.4182968Z ##[endgroup]
2026-01-03T22:05:18.4184880Z Secret source: Actions
2026-01-03T22:05:18.4185648Z Prepare workflow directory
2026-01-03T22:05:18.4501727Z Prepare all required actions
2026-01-03T22:05:18.4539786Z Getting action download info
2026-01-03T22:05:18.7726578Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2026-01-03T22:05:18.8723320Z Download action repository 'actions/setup-python@v5' (SHA:a26af69be951a213d495a4c3e4e4022e16d87065)
2026-01-03T22:05:19.0029617Z Download action repository 'codecov/codecov-action@v4' (SHA:b9fd7d16f6d7d1b5d2bec1a2887e65ceed900238)
2026-01-03T22:05:19.3123284Z Complete job name: test (3.12)
2026-01-03T22:05:19.3734551Z ##[group]Run actions/checkout@v4
2026-01-03T22:05:19.3735365Z with:
2026-01-03T22:05:19.3735830Z   repository: SFenton/ha-thermostat-contact-sensors
2026-01-03T22:05:19.3736707Z   token: ***
2026-01-03T22:05:19.3737091Z   ssh-strict: true
2026-01-03T22:05:19.3737484Z   ssh-user: git
2026-01-03T22:05:19.3737884Z   persist-credentials: true
2026-01-03T22:05:19.3738314Z   clean: true
2026-01-03T22:05:19.3738713Z   sparse-checkout-cone-mode: true
2026-01-03T22:05:19.3739185Z   fetch-depth: 1
2026-01-03T22:05:19.3739565Z   fetch-tags: false
2026-01-03T22:05:19.3739989Z   show-progress: true
2026-01-03T22:05:19.3740397Z   lfs: false
2026-01-03T22:05:19.3740798Z   submodules: false
2026-01-03T22:05:19.3741230Z   set-safe-directory: true
2026-01-03T22:05:19.3741901Z ##[endgroup]
2026-01-03T22:05:19.4826817Z Syncing repository: SFenton/ha-thermostat-contact-sensors
2026-01-03T22:05:19.4829495Z ##[group]Getting Git version info
2026-01-03T22:05:19.4831024Z Working directory is '/home/runner/work/ha-thermostat-contact-sensors/ha-thermostat-contact-sensors'
2026-01-03T22:05:19.4832895Z [command]/usr/bin/git version
2026-01-03T22:05:19.4894512Z git version 2.52.0
2026-01-03T22:05:19.4922453Z ##[endgroup]
2026-01-03T22:05:19.4946488Z Temporarily overriding HOME='/home/runner/work/_temp/8dc5e4db-13d4-4bd0-8ec3-9a2e9cb798ea' before making global git config changes
2026-01-03T22:05:19.4948885Z Adding repository directory to the temporary git global config as a safe directory
2026-01-03T22:05:19.4953437Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/ha-thermostat-contact-sensors/ha-thermostat-contact-sensors
2026-01-03T22:05:19.4994377Z Deleting the contents of '/home/runner/work/ha-thermostat-contact-sensors/ha-thermostat-contact-sensors'
2026-01-03T22:05:19.4997667Z ##[group]Initializing the repository
2026-01-03T22:05:19.5003051Z [command]/usr/bin/git init /home/runner/work/ha-thermostat-contact-sensors/ha-thermostat-contact-sensors
2026-01-03T22:05:19.5106696Z hint: Using 'master' as the name for the initial branch. This default branch name
2026-01-03T22:05:19.5108595Z hint: will change to "main" in Git 3.0. To configure the initial branch name
2026-01-03T22:05:19.5110081Z hint: to use in all of your new repositories, which will suppress this warning,
2026-01-03T22:05:19.5111238Z hint: call:
2026-01-03T22:05:19.5111855Z hint:
2026-01-03T22:05:19.5112575Z hint: 	git config --global init.defaultBranch <name>
2026-01-03T22:05:19.5113206Z hint:
2026-01-03T22:05:19.5113747Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2026-01-03T22:05:19.5114645Z hint: 'development'. The just-created branch can be renamed via this command:
2026-01-03T22:05:19.5115337Z hint:
2026-01-03T22:05:19.5115725Z hint: 	git branch -m <name>
2026-01-03T22:05:19.5116392Z hint:
2026-01-03T22:05:19.5117016Z hint: Disable this message with "git config set advice.defaultBranchName false"
2026-01-03T22:05:19.5118266Z Initialized empty Git repository in /home/runner/work/ha-thermostat-contact-sensors/ha-thermostat-contact-sensors/.git/
2026-01-03T22:05:19.5128481Z [command]/usr/bin/git remote add origin https://github.com/SFenton/ha-thermostat-contact-sensors
2026-01-03T22:05:19.5163782Z ##[endgroup]
2026-01-03T22:05:19.5165133Z ##[group]Disabling automatic garbage collection
2026-01-03T22:05:19.5168997Z [command]/usr/bin/git config --local gc.auto 0
2026-01-03T22:05:19.5197452Z ##[endgroup]
2026-01-03T22:05:19.5198651Z ##[group]Setting up auth
2026-01-03T22:05:19.5204823Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-01-03T22:05:19.5235525Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-01-03T22:05:19.5586476Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-03T22:05:19.5616930Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-01-03T22:05:19.5832608Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-03T22:05:19.5872343Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-01-03T22:05:19.6092491Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2026-01-03T22:05:19.6126636Z ##[endgroup]
2026-01-03T22:05:19.6127538Z ##[group]Fetching the repository
2026-01-03T22:05:19.6134541Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +975808be778044215f3c413bce58f90ccba4d7d4:refs/remotes/origin/main
2026-01-03T22:05:19.8002087Z From https://github.com/SFenton/ha-thermostat-contact-sensors
2026-01-03T22:05:19.8003711Z  * [new ref]         975808be778044215f3c413bce58f90ccba4d7d4 -> origin/main
2026-01-03T22:05:19.8034222Z ##[endgroup]
2026-01-03T22:05:19.8035008Z ##[group]Determining the checkout info
2026-01-03T22:05:19.8036357Z ##[endgroup]
2026-01-03T22:05:19.8041607Z [command]/usr/bin/git sparse-checkout disable
2026-01-03T22:05:19.8081827Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2026-01-03T22:05:19.8107755Z ##[group]Checking out the ref
2026-01-03T22:05:19.8111624Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2026-01-03T22:05:19.8246899Z Switched to a new branch 'main'
2026-01-03T22:05:19.8248195Z branch 'main' set up to track 'origin/main'.
2026-01-03T22:05:19.8249862Z ##[endgroup]
2026-01-03T22:05:19.8279917Z [command]/usr/bin/git log -1 --format=%H
2026-01-03T22:05:19.8302879Z 975808be778044215f3c413bce58f90ccba4d7d4
2026-01-03T22:05:19.8578219Z ##[group]Run actions/setup-python@v5
2026-01-03T22:05:19.8578854Z with:
2026-01-03T22:05:19.8579248Z   python-version: 3.12
2026-01-03T22:05:19.8579721Z   check-latest: false
2026-01-03T22:05:19.8580600Z   token: ***
2026-01-03T22:05:19.8581013Z   update-environment: true
2026-01-03T22:05:19.8581526Z   allow-prereleases: false
2026-01-03T22:05:19.8582030Z   freethreaded: false
2026-01-03T22:05:19.8582470Z ##[endgroup]
2026-01-03T22:05:20.0248646Z ##[group]Installed versions
2026-01-03T22:05:20.1050901Z Successfully set up CPython (3.12.12)
2026-01-03T22:05:20.1052651Z ##[endgroup]
2026-01-03T22:05:20.1184211Z ##[group]Run python -m pip install --upgrade pip
2026-01-03T22:05:20.1185096Z [36;1mpython -m pip install --upgrade pip[0m
2026-01-03T22:05:20.1185838Z [36;1mpip install -r requirements_test.txt[0m
2026-01-03T22:05:20.1293000Z shell: /usr/bin/bash -e {0}
2026-01-03T22:05:20.1293579Z env:
2026-01-03T22:05:20.1294132Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:05:20.1295134Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib/pkgconfig
2026-01-03T22:05:20.1296116Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:05:20.1297146Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:05:20.1298035Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:05:20.1298929Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib
2026-01-03T22:05:20.1299646Z ##[endgroup]
2026-01-03T22:05:23.1097391Z Requirement already satisfied: pip in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (25.3)
2026-01-03T22:05:24.2591779Z Collecting pytest>=7.0.0 (from -r requirements_test.txt (line 1))
2026-01-03T22:05:24.3194231Z   Downloading pytest-9.0.2-py3-none-any.whl.metadata (7.6 kB)
2026-01-03T22:05:24.3448888Z Collecting pytest-asyncio>=0.23.0 (from -r requirements_test.txt (line 2))
2026-01-03T22:05:24.3491123Z   Downloading pytest_asyncio-1.3.0-py3-none-any.whl.metadata (4.1 kB)
2026-01-03T22:05:24.4603890Z Collecting pytest-homeassistant-custom-component>=0.13.0 (from -r requirements_test.txt (line 3))
2026-01-03T22:05:24.4652777Z   Downloading pytest_homeassistant_custom_component-0.13.205-py3-none-any.whl.metadata (5.3 kB)
2026-01-03T22:05:24.4864386Z Collecting pytest-cov>=4.0.0 (from -r requirements_test.txt (line 4))
2026-01-03T22:05:24.4904397Z   Downloading pytest_cov-7.0.0-py3-none-any.whl.metadata (31 kB)
2026-01-03T22:05:24.5108671Z Collecting iniconfig>=1.0.1 (from pytest>=7.0.0->-r requirements_test.txt (line 1))
2026-01-03T22:05:24.5146632Z   Downloading iniconfig-2.3.0-py3-none-any.whl.metadata (2.5 kB)
2026-01-03T22:05:24.5445058Z Collecting packaging>=22 (from pytest>=7.0.0->-r requirements_test.txt (line 1))
2026-01-03T22:05:24.5484658Z   Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
2026-01-03T22:05:24.5623639Z Collecting pluggy<2,>=1.5 (from pytest>=7.0.0->-r requirements_test.txt (line 1))
2026-01-03T22:05:24.5665502Z   Downloading pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
2026-01-03T22:05:24.5900316Z Collecting pygments>=2.7.2 (from pytest>=7.0.0->-r requirements_test.txt (line 1))
2026-01-03T22:05:24.5934155Z   Downloading pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
2026-01-03T22:05:24.6237142Z Collecting typing-extensions>=4.12 (from pytest-asyncio>=0.23.0->-r requirements_test.txt (line 2))
2026-01-03T22:05:24.6275598Z   Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
2026-01-03T22:05:24.8898829Z Collecting sqlalchemy (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:24.8942116Z   Downloading sqlalchemy-2.0.45-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (9.5 kB)
2026-01-03T22:05:25.2838650Z Collecting coverage==7.6.8 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:25.2940257Z   Downloading coverage-7.6.8-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (8.2 kB)
2026-01-03T22:05:25.3125439Z Collecting freezegun==1.5.1 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:25.3165001Z   Downloading freezegun-1.5.1-py3-none-any.whl.metadata (11 kB)
2026-01-03T22:05:25.3341138Z Collecting license-expression==30.4.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:25.3381670Z   Downloading license_expression-30.4.0-py3-none-any.whl.metadata (12 kB)
2026-01-03T22:05:25.3525840Z Collecting mock-open==1.4.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:25.3589592Z   Downloading mock-open-1.4.0.tar.gz (12 kB)
2026-01-03T22:05:25.3671031Z   Installing build dependencies: started
2026-01-03T22:05:26.6545311Z   Installing build dependencies: finished with status 'done'
2026-01-03T22:05:26.6551717Z   Getting requirements to build wheel: started
2026-01-03T22:05:27.0793643Z   Getting requirements to build wheel: finished with status 'done'
2026-01-03T22:05:27.0803201Z   Preparing metadata (pyproject.toml): started
2026-01-03T22:05:27.2824846Z   Preparing metadata (pyproject.toml): finished with status 'done'
2026-01-03T22:05:27.3969497Z Collecting pydantic==2.10.4 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.4009739Z   Downloading pydantic-2.10.4-py3-none-any.whl.metadata (29 kB)
2026-01-03T22:05:27.4173618Z Collecting pylint-per-file-ignores==1.3.2 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.4221119Z   Downloading pylint_per_file_ignores-1.3.2-py3-none-any.whl.metadata (2.0 kB)
2026-01-03T22:05:27.4432935Z Collecting pipdeptree==2.23.4 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.4479772Z   Downloading pipdeptree-2.23.4-py3-none-any.whl.metadata (15 kB)
2026-01-03T22:05:27.4594151Z Collecting pytest-asyncio>=0.23.0 (from -r requirements_test.txt (line 2))
2026-01-03T22:05:27.4658337Z   Downloading pytest_asyncio-0.24.0-py3-none-any.whl.metadata (3.9 kB)
2026-01-03T22:05:27.4793194Z Collecting pytest-aiohttp==1.0.5 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.4848086Z   Downloading pytest_aiohttp-1.0.5-py3-none-any.whl.metadata (2.6 kB)
2026-01-03T22:05:27.4930654Z Collecting pytest-cov>=4.0.0 (from -r requirements_test.txt (line 4))
2026-01-03T22:05:27.4982236Z   Downloading pytest_cov-6.0.0-py3-none-any.whl.metadata (27 kB)
2026-01-03T22:05:27.5109276Z Collecting pytest-freezer==0.4.8 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.5159261Z   Downloading pytest_freezer-0.4.8-py3-none-any.whl.metadata (2.4 kB)
2026-01-03T22:05:27.5311106Z Collecting pytest-github-actions-annotate-failures==0.2.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.5355023Z   Downloading pytest_github_actions_annotate_failures-0.2.0-py3-none-any.whl.metadata (3.1 kB)
2026-01-03T22:05:27.5492819Z Collecting pytest-socket==0.7.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.5526414Z   Downloading pytest_socket-0.7.0-py3-none-any.whl.metadata (6.7 kB)
2026-01-03T22:05:27.5671088Z Collecting pytest-sugar==1.0.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.5718512Z   Downloading pytest_sugar-1.0.0-py3-none-any.whl.metadata (4.4 kB)
2026-01-03T22:05:27.5861804Z Collecting pytest-timeout==2.3.1 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.5896285Z   Downloading pytest_timeout-2.3.1-py3-none-any.whl.metadata (20 kB)
2026-01-03T22:05:27.6029198Z Collecting pytest-unordered==0.6.1 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.6078810Z   Downloading pytest_unordered-0.6.1-py3-none-any.whl.metadata (6.4 kB)
2026-01-03T22:05:27.6316044Z Collecting pytest-picked==0.5.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.6362985Z   Downloading pytest_picked-0.5.0-py3-none-any.whl.metadata (4.1 kB)
2026-01-03T22:05:27.6557775Z Collecting pytest-xdist==3.6.1 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.6605799Z   Downloading pytest_xdist-3.6.1-py3-none-any.whl.metadata (4.3 kB)
2026-01-03T22:05:27.6737993Z Collecting pytest>=7.0.0 (from -r requirements_test.txt (line 1))
2026-01-03T22:05:27.6786718Z   Downloading pytest-8.3.4-py3-none-any.whl.metadata (7.5 kB)
2026-01-03T22:05:27.6932808Z Collecting requests-mock==1.12.1 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.6967150Z   Downloading requests_mock-1.12.1-py2.py3-none-any.whl.metadata (4.1 kB)
2026-01-03T22:05:27.7143743Z Collecting respx==0.21.1 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.7183104Z   Downloading respx-0.21.1-py2.py3-none-any.whl.metadata (4.1 kB)
2026-01-03T22:05:27.7443937Z Collecting syrupy==4.8.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.7491220Z   Downloading syrupy-4.8.0-py3-none-any.whl.metadata (36 kB)
2026-01-03T22:05:27.7830841Z Collecting tqdm==4.66.5 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:27.7880721Z   Downloading tqdm-4.66.5-py3-none-any.whl.metadata (57 kB)
2026-01-03T22:05:28.0072771Z Collecting homeassistant==2025.1.4 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:28.0116804Z   Downloading homeassistant-2025.1.4-py3-none-any.whl.metadata (4.8 kB)
2026-01-03T22:05:28.0289376Z Collecting sqlalchemy (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:28.0334092Z   Downloading SQLAlchemy-2.0.36-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.7 kB)
2026-01-03T22:05:28.0538137Z Collecting paho-mqtt==1.6.1 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:28.0581093Z   Downloading paho-mqtt-1.6.1.tar.gz (99 kB)
2026-01-03T22:05:28.0782810Z   Installing build dependencies: started
2026-01-03T22:05:29.2181339Z   Installing build dependencies: finished with status 'done'
2026-01-03T22:05:29.2185669Z   Getting requirements to build wheel: started
2026-01-03T22:05:29.5506016Z   Getting requirements to build wheel: finished with status 'done'
2026-01-03T22:05:29.5514070Z   Preparing metadata (pyproject.toml): started
2026-01-03T22:05:29.7373469Z   Preparing metadata (pyproject.toml): finished with status 'done'
2026-01-03T22:05:29.9606662Z Collecting numpy==2.2.0 (from pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:29.9670776Z   Downloading numpy-2.2.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (62 kB)
2026-01-03T22:05:30.0385772Z Collecting python-dateutil>=2.7 (from freezegun==1.5.1->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.0424586Z   Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
2026-01-03T22:05:30.0567784Z Collecting aiodns==3.2.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.0606040Z   Downloading aiodns-3.2.0-py3-none-any.whl.metadata (4.0 kB)
2026-01-03T22:05:30.0818450Z Collecting aiohasupervisor==0.2.2b5 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.0862233Z   Downloading aiohasupervisor-0.2.2b5-py3-none-any.whl.metadata (5.1 kB)
2026-01-03T22:05:30.5790523Z Collecting aiohttp==3.11.11 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.5847408Z   Downloading aiohttp-3.11.11-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.7 kB)
2026-01-03T22:05:30.5989656Z Collecting aiohttp-cors==0.7.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.6039312Z   Downloading aiohttp_cors-0.7.0-py3-none-any.whl.metadata (20 kB)
2026-01-03T22:05:30.6184623Z Collecting aiohttp-fast-zlib==0.2.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.6230558Z   Downloading aiohttp_fast_zlib-0.2.0-py3-none-any.whl.metadata (5.6 kB)
2026-01-03T22:05:30.6354311Z Collecting aiozoneinfo==0.2.1 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.6405440Z   Downloading aiozoneinfo-0.2.1-py3-none-any.whl.metadata (5.5 kB)
2026-01-03T22:05:30.6654239Z Collecting astral==2.2 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.6697172Z   Downloading astral-2.2-py2.py3-none-any.whl.metadata (1.5 kB)
2026-01-03T22:05:30.6836471Z Collecting async-interrupt==1.2.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.6881929Z   Downloading async_interrupt-1.2.0-py3-none-any.whl.metadata (4.9 kB)
2026-01-03T22:05:30.7040095Z Collecting attrs==24.2.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.7077838Z   Downloading attrs-24.2.0-py3-none-any.whl.metadata (11 kB)
2026-01-03T22:05:30.7295051Z Collecting atomicwrites-homeassistant==1.4.1 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.7337151Z   Downloading atomicwrites_homeassistant-1.4.1-py2.py3-none-any.whl.metadata (6.0 kB)
2026-01-03T22:05:30.7967444Z Collecting awesomeversion==24.6.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.8031667Z   Downloading awesomeversion-24.6.0-py3-none-any.whl.metadata (9.0 kB)
2026-01-03T22:05:30.8453759Z Collecting bcrypt==4.2.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.8492448Z   Downloading bcrypt-4.2.0-cp39-abi3-manylinux_2_28_x86_64.whl.metadata (9.6 kB)
2026-01-03T22:05:30.8715082Z Collecting certifi>=2021.5.30 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.8750826Z   Downloading certifi-2025.11.12-py3-none-any.whl.metadata (2.5 kB)
2026-01-03T22:05:30.9001907Z Collecting ciso8601==2.3.2 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.9055110Z   Downloading ciso8601-2.3.2-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (23 kB)
2026-01-03T22:05:30.9197255Z Collecting cronsim==2.6 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.9362465Z   Downloading cronsim-2.6-py3-none-any.whl.metadata (6.9 kB)
2026-01-03T22:05:30.9728647Z Collecting fnv-hash-fast==1.0.2 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:30.9802282Z   Downloading fnv_hash_fast-1.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux_2_5_x86_64.manylinux1_x86_64.manylinux2014_x86_64.whl.metadata (4.7 kB)
2026-01-03T22:05:31.0152087Z Collecting hass-nabucasa==0.87.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.0196502Z   Downloading hass_nabucasa-0.87.0-py3-none-any.whl.metadata (1.8 kB)
2026-01-03T22:05:31.0427989Z Collecting httpx==0.27.2 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.0462149Z   Downloading httpx-0.27.2-py3-none-any.whl.metadata (7.1 kB)
2026-01-03T22:05:31.0630515Z Collecting home-assistant-bluetooth==1.13.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.0671302Z   Downloading home_assistant_bluetooth-1.13.0-py3-none-any.whl.metadata (5.4 kB)
2026-01-03T22:05:31.0784607Z Collecting ifaddr==0.2.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.0829274Z   Downloading ifaddr-0.2.0-py3-none-any.whl.metadata (4.9 kB)
2026-01-03T22:05:31.1003274Z Collecting Jinja2==3.1.5 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.1039189Z   Downloading jinja2-3.1.5-py3-none-any.whl.metadata (2.6 kB)
2026-01-03T22:05:31.1311181Z Collecting lru-dict==1.3.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.1355062Z   Downloading lru_dict-1.3.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.5 kB)
2026-01-03T22:05:31.1532608Z Collecting PyJWT==2.10.1 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.1568274Z   Downloading PyJWT-2.10.1-py3-none-any.whl.metadata (4.0 kB)
2026-01-03T22:05:31.3299247Z Collecting cryptography==44.0.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.3338861Z   Downloading cryptography-44.0.0-cp39-abi3-manylinux_2_28_x86_64.whl.metadata (5.7 kB)
2026-01-03T22:05:31.5031659Z Collecting Pillow==11.0.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.5085371Z   Downloading pillow-11.0.0-cp312-cp312-manylinux_2_28_x86_64.whl.metadata (9.1 kB)
2026-01-03T22:05:31.5658309Z Collecting propcache==0.2.1 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.5710802Z   Downloading propcache-0.2.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.2 kB)
2026-01-03T22:05:31.5894656Z Collecting pyOpenSSL==24.3.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.5930871Z   Downloading pyOpenSSL-24.3.0-py3-none-any.whl.metadata (15 kB)
2026-01-03T22:05:31.9232368Z Collecting orjson==3.10.12 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.9303281Z   Downloading orjson-3.10.12-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (41 kB)
2026-01-03T22:05:31.9473899Z Collecting psutil-home-assistant==0.0.1 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.9514463Z   Downloading psutil_home_assistant-0.0.1-py3-none-any.whl.metadata (882 bytes)
2026-01-03T22:05:31.9663897Z Collecting python-slugify==8.0.4 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:31.9704033Z   Downloading python_slugify-8.0.4-py2.py3-none-any.whl.metadata (8.5 kB)
2026-01-03T22:05:32.0087988Z Collecting PyYAML==6.0.2 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.0126489Z   Downloading PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
2026-01-03T22:05:32.0392577Z Collecting requests==2.32.3 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.0432982Z   Downloading requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)
2026-01-03T22:05:32.0596438Z Collecting securetar==2024.11.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.0644190Z   Downloading securetar-2024.11.0-py3-none-any.whl.metadata (2.0 kB)
2026-01-03T22:05:32.1088600Z Collecting ulid-transform==1.0.2 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.1156641Z   Downloading ulid_transform-1.0.2-cp312-cp312-manylinux_2_36_x86_64.whl.metadata (5.4 kB)
2026-01-03T22:05:32.1422722Z Collecting urllib3<2,>=1.26.5 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.1466826Z   Downloading urllib3-1.26.20-py2.py3-none-any.whl.metadata (50 kB)
2026-01-03T22:05:32.3793159Z Collecting uv==0.5.8 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.3841315Z   Downloading uv-0.5.8-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (11 kB)
2026-01-03T22:05:32.4006066Z Collecting voluptuous==0.15.2 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.4057569Z   Downloading voluptuous-0.15.2-py3-none-any.whl.metadata (20 kB)
2026-01-03T22:05:32.4194848Z Collecting voluptuous-serialize==2.6.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.4238602Z   Downloading voluptuous_serialize-2.6.0-py3-none-any.whl.metadata (316 bytes)
2026-01-03T22:05:32.4379630Z Collecting voluptuous-openapi==0.0.5 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.4423186Z   Downloading voluptuous_openapi-0.0.5-py3-none-any.whl.metadata (325 bytes)
2026-01-03T22:05:32.7675442Z Collecting yarl==1.18.3 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.7854451Z   Downloading yarl-1.18.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (69 kB)
2026-01-03T22:05:32.8674313Z Collecting webrtc-models==0.3.0 (from homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.8726967Z   Downloading webrtc_models-0.3.0-py3-none-any.whl.metadata (2.9 kB)
2026-01-03T22:05:32.9491068Z Collecting pycares>=4.0.0 (from aiodns==3.2.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.9543774Z   Downloading pycares-5.0.1-cp312-cp312-manylinux_2_26_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
2026-01-03T22:05:32.9878578Z Collecting mashumaro<4.0,>=3.11 (from aiohasupervisor==0.2.2b5->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:32.9913552Z   Downloading mashumaro-3.17-py3-none-any.whl.metadata (118 kB)
2026-01-03T22:05:33.0381571Z Collecting aiohappyeyeballs>=2.3.0 (from aiohttp==3.11.11->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.0416594Z   Downloading aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)
2026-01-03T22:05:33.0533879Z Collecting aiosignal>=1.1.2 (from aiohttp==3.11.11->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.0569328Z   Downloading aiosignal-1.4.0-py3-none-any.whl.metadata (3.7 kB)
2026-01-03T22:05:33.1287576Z Collecting frozenlist>=1.1.1 (from aiohttp==3.11.11->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.1329359Z   Downloading frozenlist-1.8.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (20 kB)
2026-01-03T22:05:33.3664581Z Collecting multidict<7.0,>=4.5 (from aiohttp==3.11.11->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.3707574Z   Downloading multidict-6.7.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.3 kB)
2026-01-03T22:05:33.3970825Z Collecting idna>=2.0 (from yarl==1.18.3->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.4018528Z   Downloading idna-3.11-py3-none-any.whl.metadata (8.4 kB)
2026-01-03T22:05:33.4587397Z Collecting tzdata>=2024.1 (from aiozoneinfo==0.2.1->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.4622920Z   Downloading tzdata-2025.3-py2.py3-none-any.whl.metadata (1.4 kB)
2026-01-03T22:05:33.5001044Z Collecting pytz (from astral==2.2->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.5037818Z   Downloading pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
2026-01-03T22:05:33.6174517Z Collecting cffi>=1.12 (from cryptography==44.0.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.6216651Z   Downloading cffi-2.0.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.6 kB)
2026-01-03T22:05:33.6354098Z Collecting fnvhash<0.2.0,>=0.1.0 (from fnv-hash-fast==1.0.2->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:33.6399453Z   Downloading fnvhash-0.1.0.tar.gz (1.9 kB)
2026-01-03T22:05:33.6460036Z   Installing build dependencies: started
2026-01-03T22:05:34.8041895Z   Installing build dependencies: finished with status 'done'
2026-01-03T22:05:34.8047834Z   Getting requirements to build wheel: started
2026-01-03T22:05:35.1345005Z   Getting requirements to build wheel: finished with status 'done'
2026-01-03T22:05:35.1353809Z   Preparing metadata (pyproject.toml): started
2026-01-03T22:05:35.3197277Z   Preparing metadata (pyproject.toml): finished with status 'done'
2026-01-03T22:05:35.3510062Z Collecting acme==3.0.1 (from hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.3559287Z   Downloading acme-3.0.1-py3-none-any.whl.metadata (1.4 kB)
2026-01-03T22:05:35.3990056Z Collecting pycognito==2024.5.1 (from hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.4037749Z   Downloading pycognito-2024.5.1-py3-none-any.whl.metadata (24 kB)
2026-01-03T22:05:35.4272929Z Collecting snitun==0.39.1 (from hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.4320530Z   Downloading snitun-0.39.1-py3-none-any.whl.metadata (4.5 kB)
2026-01-03T22:05:35.4815198Z Collecting josepy<2,>=1.13.0 (from acme==3.0.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.4856740Z   Downloading josepy-1.15.0-py3-none-any.whl.metadata (1.7 kB)
2026-01-03T22:05:35.5005379Z Collecting pyrfc3339 (from acme==3.0.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.5040617Z   Downloading pyrfc3339-2.1.0-py3-none-any.whl.metadata (2.8 kB)
2026-01-03T22:05:35.6393681Z Collecting setuptools>=41.6.0 (from acme==3.0.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.6407432Z   Using cached setuptools-80.9.0-py3-none-any.whl.metadata (6.6 kB)
2026-01-03T22:05:35.9651414Z Collecting habluetooth>=3.0 (from home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.9704175Z   Downloading habluetooth-5.8.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.3 kB)
2026-01-03T22:05:35.9931036Z Collecting anyio (from httpx==0.27.2->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:35.9965805Z   Downloading anyio-4.12.0-py3-none-any.whl.metadata (4.3 kB)
2026-01-03T22:05:36.0181706Z Collecting httpcore==1.* (from httpx==0.27.2->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.0219376Z   Downloading httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
2026-01-03T22:05:36.0344970Z Collecting sniffio (from httpx==0.27.2->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.0382190Z   Downloading sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
2026-01-03T22:05:36.0931893Z Collecting MarkupSafe>=2.0 (from Jinja2==3.1.5->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.0972830Z   Downloading markupsafe-3.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.7 kB)
2026-01-03T22:05:36.1131381Z Collecting boolean.py>=4.0 (from license-expression==30.4.0->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.1177323Z   Downloading boolean_py-5.0-py3-none-any.whl.metadata (2.3 kB)
2026-01-03T22:05:36.1339021Z Requirement already satisfied: pip>=24.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pipdeptree==2.23.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3)) (25.3)
2026-01-03T22:05:36.2035639Z Collecting psutil (from psutil-home-assistant==0.0.1->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.2076369Z   Downloading psutil-7.2.1-cp36-abi3-manylinux2010_x86_64.manylinux_2_12_x86_64.manylinux_2_28_x86_64.whl.metadata (22 kB)
2026-01-03T22:05:36.5674992Z Collecting boto3>=1.10.49 (from pycognito==2024.5.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.5720097Z   Downloading boto3-1.42.21-py3-none-any.whl.metadata (6.8 kB)
2026-01-03T22:05:36.5891391Z Collecting envs>=1.3 (from pycognito==2024.5.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.5942539Z   Downloading envs-1.4-py3-none-any.whl.metadata (842 bytes)
2026-01-03T22:05:36.6169926Z Collecting annotated-types>=0.6.0 (from pydantic==2.10.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:36.6205905Z   Downloading annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
2026-01-03T22:05:37.4323912Z Collecting pydantic-core==2.27.2 (from pydantic==2.10.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:37.4377919Z   Downloading pydantic_core-2.27.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.6 kB)
2026-01-03T22:05:37.6430536Z Collecting termcolor>=2.1.0 (from pytest-sugar==1.0.0->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:37.6465634Z   Downloading termcolor-3.3.0-py3-none-any.whl.metadata (6.5 kB)
2026-01-03T22:05:37.6688650Z Collecting execnet>=2.1 (from pytest-xdist==3.6.1->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:37.6729171Z   Downloading execnet-2.1.2-py3-none-any.whl.metadata (2.9 kB)
2026-01-03T22:05:37.6889540Z Collecting text-unidecode>=1.3 (from python-slugify==8.0.4->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:37.6923490Z   Downloading text_unidecode-1.3-py2.py3-none-any.whl.metadata (2.4 kB)
2026-01-03T22:05:37.7830612Z Collecting charset-normalizer<4,>=2 (from requests==2.32.3->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:37.7872571Z   Downloading charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (37 kB)
2026-01-03T22:05:37.8958808Z Collecting async-timeout>=3.0.1 (from snitun==0.39.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:37.8999069Z   Downloading async_timeout-5.0.1-py3-none-any.whl.metadata (5.1 kB)
2026-01-03T22:05:38.0489452Z Collecting greenlet!=0.4.17 (from sqlalchemy->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.0530007Z   Downloading greenlet-3.3.0-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
2026-01-03T22:05:38.0847552Z Collecting h11>=0.16 (from httpcore==1.*->httpx==0.27.2->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.0882634Z   Downloading h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
2026-01-03T22:05:38.5369571Z Collecting botocore<1.43.0,>=1.42.21 (from boto3>=1.10.49->pycognito==2024.5.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.5422416Z   Downloading botocore-1.42.21-py3-none-any.whl.metadata (5.9 kB)
2026-01-03T22:05:38.5579851Z Collecting jmespath<2.0.0,>=0.7.1 (from boto3>=1.10.49->pycognito==2024.5.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.5618900Z   Downloading jmespath-1.0.1-py3-none-any.whl.metadata (7.6 kB)
2026-01-03T22:05:38.5797183Z Collecting s3transfer<0.17.0,>=0.16.0 (from boto3>=1.10.49->pycognito==2024.5.1->hass-nabucasa==0.87.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.5833613Z   Downloading s3transfer-0.16.0-py3-none-any.whl.metadata (1.7 kB)
2026-01-03T22:05:38.6258164Z Collecting six>=1.5 (from python-dateutil>=2.7->freezegun==1.5.1->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.6294813Z   Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
2026-01-03T22:05:38.7747676Z Collecting pycparser (from cffi>=1.12->cryptography==44.0.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.7792792Z   Downloading pycparser-2.23-py3-none-any.whl.metadata (993 bytes)
2026-01-03T22:05:38.8202078Z Collecting bleak>=1.0.1 (from habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.8257353Z   Downloading bleak-2.1.1-py3-none-any.whl.metadata (5.2 kB)
2026-01-03T22:05:38.8540953Z Collecting bleak-retry-connector>=4.2.0 (from habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.8589244Z   Downloading bleak_retry_connector-4.4.4-py3-none-any.whl.metadata (7.3 kB)
2026-01-03T22:05:38.8797619Z Collecting bluetooth-adapters>=2.1.0 (from habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.8851204Z   Downloading bluetooth_adapters-2.1.1-py3-none-any.whl.metadata (5.3 kB)
2026-01-03T22:05:38.9026843Z Collecting bluetooth-auto-recovery>=1.5.1 (from habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:38.9103151Z   Downloading bluetooth_auto_recovery-1.5.3-py3-none-any.whl.metadata (5.5 kB)
2026-01-03T22:05:38.9983819Z Collecting bluetooth-data-tools>=1.28.0 (from habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:39.0031862Z   Downloading bluetooth_data_tools-1.28.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.2 kB)
2026-01-03T22:05:39.0168604Z Collecting btsocket>=0.3.0 (from habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:39.0215737Z   Downloading btsocket-0.3.0-py2.py3-none-any.whl.metadata (7.0 kB)
2026-01-03T22:05:39.4682831Z Collecting dbus-fast>=2.30.2 (from habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:39.4735902Z   Downloading dbus_fast-3.1.2-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (10 kB)
2026-01-03T22:05:39.5465703Z Collecting aiooui>=0.1.1 (from bluetooth-adapters>=2.1.0->habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:39.5514782Z   Downloading aiooui-0.1.9-py3-none-any.whl.metadata (4.1 kB)
2026-01-03T22:05:39.5969823Z Collecting uart-devices>=0.1.0 (from bluetooth-adapters>=2.1.0->habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:39.6015808Z   Downloading uart_devices-0.1.1-py3-none-any.whl.metadata (4.9 kB)
2026-01-03T22:05:39.6129512Z Collecting usb-devices>=0.4.5 (from bluetooth-adapters>=2.1.0->habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:39.6174266Z   Downloading usb_devices-0.4.5-py3-none-any.whl.metadata (5.3 kB)
2026-01-03T22:05:39.6358681Z Collecting PyRIC>=0.1.6.3 (from bluetooth-auto-recovery>=1.5.1->habluetooth>=3.0->home-assistant-bluetooth==1.13.0->homeassistant==2025.1.4->pytest-homeassistant-custom-component>=0.13.0->-r requirements_test.txt (line 3))
2026-01-03T22:05:39.6483325Z   Downloading PyRIC-0.1.6.3.tar.gz (870 kB)
2026-01-03T22:05:39.6572223Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 870.4/870.4 kB 100.6 MB/s  0:00:00
2026-01-03T22:05:39.6836039Z   Installing build dependencies: started
2026-01-03T22:05:40.4737264Z   Installing build dependencies: finished with status 'done'
2026-01-03T22:05:40.4743474Z   Getting requirements to build wheel: started
2026-01-03T22:05:40.8080231Z   Getting requirements to build wheel: finished with status 'done'
2026-01-03T22:05:40.8089312Z   Preparing metadata (pyproject.toml): started
2026-01-03T22:05:40.9974878Z   Preparing metadata (pyproject.toml): finished with status 'done'
2026-01-03T22:05:41.1527320Z Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
2026-01-03T22:05:41.1610030Z Downloading pytest_homeassistant_custom_component-0.13.205-py3-none-any.whl (60 kB)
2026-01-03T22:05:41.1667497Z Downloading pytest-8.3.4-py3-none-any.whl (343 kB)
2026-01-03T22:05:41.1763467Z Downloading pytest_asyncio-0.24.0-py3-none-any.whl (18 kB)
2026-01-03T22:05:41.1833647Z Downloading pytest_cov-6.0.0-py3-none-any.whl (22 kB)
2026-01-03T22:05:41.1915614Z Downloading coverage-7.6.8-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (239 kB)
2026-01-03T22:05:41.1994197Z Downloading freezegun-1.5.1-py3-none-any.whl (17 kB)
2026-01-03T22:05:41.2061386Z Downloading homeassistant-2025.1.4-py3-none-any.whl (40.0 MB)
2026-01-03T22:05:41.4580831Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 40.0/40.0 MB 159.6 MB/s  0:00:00
2026-01-03T22:05:41.4631452Z Downloading aiodns-3.2.0-py3-none-any.whl (5.7 kB)
2026-01-03T22:05:41.4719055Z Downloading aiohasupervisor-0.2.2b5-py3-none-any.whl (36 kB)
2026-01-03T22:05:41.4799399Z Downloading aiohttp-3.11.11-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
2026-01-03T22:05:41.4904332Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.7/1.7 MB 177.5 MB/s  0:00:00
2026-01-03T22:05:41.4950725Z Downloading orjson-3.10.12-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (131 kB)
2026-01-03T22:05:41.5019166Z Downloading yarl-1.18.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (336 kB)
2026-01-03T22:05:41.5095322Z Downloading aiohttp_cors-0.7.0-py3-none-any.whl (27 kB)
2026-01-03T22:05:41.5173249Z Downloading aiohttp_fast_zlib-0.2.0-py3-none-any.whl (8.4 kB)
2026-01-03T22:05:41.5249461Z Downloading aiozoneinfo-0.2.1-py3-none-any.whl (8.0 kB)
2026-01-03T22:05:41.5322926Z Downloading astral-2.2-py2.py3-none-any.whl (30 kB)
2026-01-03T22:05:41.5389580Z Downloading async_interrupt-1.2.0-py3-none-any.whl (8.9 kB)
2026-01-03T22:05:41.5459772Z Downloading atomicwrites_homeassistant-1.4.1-py2.py3-none-any.whl (7.1 kB)
2026-01-03T22:05:41.5526946Z Downloading attrs-24.2.0-py3-none-any.whl (63 kB)
2026-01-03T22:05:41.5596085Z Downloading awesomeversion-24.6.0-py3-none-any.whl (14 kB)
2026-01-03T22:05:41.5649344Z Downloading bcrypt-4.2.0-cp39-abi3-manylinux_2_28_x86_64.whl (273 kB)
2026-01-03T22:05:41.5733699Z Downloading ciso8601-2.3.2-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (40 kB)
2026-01-03T22:05:41.5817122Z Downloading cronsim-2.6-py3-none-any.whl (13 kB)
2026-01-03T22:05:41.5877314Z Downloading cryptography-44.0.0-cp39-abi3-manylinux_2_28_x86_64.whl (4.2 MB)
2026-01-03T22:05:41.6242144Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.2/4.2 MB 128.7 MB/s  0:00:00
2026-01-03T22:05:41.6308848Z Downloading fnv_hash_fast-1.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux_2_5_x86_64.manylinux1_x86_64.manylinux2014_x86_64.whl (154 kB)
2026-01-03T22:05:41.6385575Z Downloading hass_nabucasa-0.87.0-py3-none-any.whl (56 kB)
2026-01-03T22:05:41.6454897Z Downloading webrtc_models-0.3.0-py3-none-any.whl (7.5 kB)
2026-01-03T22:05:41.6546767Z Downloading acme-3.0.1-py3-none-any.whl (95 kB)
2026-01-03T22:05:41.6621677Z Downloading home_assistant_bluetooth-1.13.0-py3-none-any.whl (7.9 kB)
2026-01-03T22:05:41.6673130Z Downloading httpx-0.27.2-py3-none-any.whl (76 kB)
2026-01-03T22:05:41.6736358Z Downloading ifaddr-0.2.0-py3-none-any.whl (12 kB)
2026-01-03T22:05:41.6796494Z Downloading jinja2-3.1.5-py3-none-any.whl (134 kB)
2026-01-03T22:05:41.6879822Z Downloading license_expression-30.4.0-py3-none-any.whl (110 kB)
2026-01-03T22:05:41.6974016Z Downloading lru_dict-1.3.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (32 kB)
2026-01-03T22:05:41.7055094Z Downloading numpy-2.2.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.1 MB)
2026-01-03T22:05:41.8066073Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 16.1/16.1 MB 160.8 MB/s  0:00:00
2026-01-03T22:05:41.8156346Z Downloading pillow-11.0.0-cp312-cp312-manylinux_2_28_x86_64.whl (4.4 MB)
2026-01-03T22:05:41.8395098Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.4/4.4 MB 191.0 MB/s  0:00:00
2026-01-03T22:05:41.8474873Z Downloading pipdeptree-2.23.4-py3-none-any.whl (32 kB)
2026-01-03T22:05:41.8534008Z Downloading propcache-0.2.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (243 kB)
2026-01-03T22:05:41.8613331Z Downloading psutil_home_assistant-0.0.1-py3-none-any.whl (6.3 kB)
2026-01-03T22:05:41.8676003Z Downloading pycognito-2024.5.1-py3-none-any.whl (26 kB)
2026-01-03T22:05:41.8756358Z Downloading pydantic-2.10.4-py3-none-any.whl (431 kB)
2026-01-03T22:05:41.8865574Z Downloading pydantic_core-2.27.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
2026-01-03T22:05:41.8982489Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 2.0/2.0 MB 184.3 MB/s  0:00:00
2026-01-03T22:05:41.9063481Z Downloading PyJWT-2.10.1-py3-none-any.whl (22 kB)
2026-01-03T22:05:41.9157849Z Downloading pylint_per_file_ignores-1.3.2-py3-none-any.whl (4.7 kB)
2026-01-03T22:05:41.9228898Z Downloading pyOpenSSL-24.3.0-py3-none-any.whl (56 kB)
2026-01-03T22:05:41.9284935Z Downloading pytest_aiohttp-1.0.5-py3-none-any.whl (8.5 kB)
2026-01-03T22:05:41.9352852Z Downloading pytest_freezer-0.4.8-py3-none-any.whl (3.2 kB)
2026-01-03T22:05:41.9450845Z Downloading pytest_github_actions_annotate_failures-0.2.0-py3-none-any.whl (5.5 kB)
2026-01-03T22:05:41.9542166Z Downloading pytest_picked-0.5.0-py3-none-any.whl (6.6 kB)
2026-01-03T22:05:41.9609251Z Downloading pytest_socket-0.7.0-py3-none-any.whl (6.8 kB)
2026-01-03T22:05:41.9699569Z Downloading pytest_sugar-1.0.0-py3-none-any.whl (10 kB)
2026-01-03T22:05:41.9771550Z Downloading pytest_timeout-2.3.1-py3-none-any.whl (14 kB)
2026-01-03T22:05:41.9832939Z Downloading pytest_unordered-0.6.1-py3-none-any.whl (6.0 kB)
2026-01-03T22:05:41.9899223Z Downloading pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
2026-01-03T22:05:41.9962489Z Downloading python_slugify-8.0.4-py2.py3-none-any.whl (10 kB)
2026-01-03T22:05:42.0025130Z Downloading PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (767 kB)
2026-01-03T22:05:42.0095645Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 767.5/767.5 kB 114.5 MB/s  0:00:00
2026-01-03T22:05:42.0132637Z Downloading requests-2.32.3-py3-none-any.whl (64 kB)
2026-01-03T22:05:42.0188837Z Downloading requests_mock-1.12.1-py2.py3-none-any.whl (27 kB)
2026-01-03T22:05:42.0267208Z Downloading respx-0.21.1-py2.py3-none-any.whl (25 kB)
2026-01-03T22:05:42.0362034Z Downloading securetar-2024.11.0-py3-none-any.whl (9.4 kB)
2026-01-03T22:05:42.0438855Z Downloading snitun-0.39.1-py3-none-any.whl (39 kB)
2026-01-03T22:05:42.0574643Z Downloading SQLAlchemy-2.0.36-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.2 MB)
2026-01-03T22:05:42.0752623Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.2/3.2 MB 196.6 MB/s  0:00:00
2026-01-03T22:05:42.0798551Z Downloading syrupy-4.8.0-py3-none-any.whl (49 kB)
2026-01-03T22:05:42.0884351Z Downloading tqdm-4.66.5-py3-none-any.whl (78 kB)
2026-01-03T22:05:42.0942425Z Downloading ulid_transform-1.0.2-cp312-cp312-manylinux_2_36_x86_64.whl (170 kB)
2026-01-03T22:05:42.1014241Z Downloading uv-0.5.8-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (14.8 MB)
2026-01-03T22:05:42.2043615Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.8/14.8 MB 144.5 MB/s  0:00:00
2026-01-03T22:05:42.2093022Z Downloading voluptuous-0.15.2-py3-none-any.whl (31 kB)
2026-01-03T22:05:42.2152394Z Downloading voluptuous_openapi-0.0.5-py3-none-any.whl (8.6 kB)
2026-01-03T22:05:42.2222533Z Downloading voluptuous_serialize-2.6.0-py3-none-any.whl (6.8 kB)
2026-01-03T22:05:42.2275924Z Downloading charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (153 kB)
2026-01-03T22:05:42.2338263Z Downloading httpcore-1.0.9-py3-none-any.whl (78 kB)
2026-01-03T22:05:42.2395468Z Downloading idna-3.11-py3-none-any.whl (71 kB)
2026-01-03T22:05:42.2468985Z Downloading josepy-1.15.0-py3-none-any.whl (32 kB)
2026-01-03T22:05:42.2521728Z Downloading mashumaro-3.17-py3-none-any.whl (94 kB)
2026-01-03T22:05:42.2579622Z Downloading multidict-6.7.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (256 kB)
2026-01-03T22:05:42.2642940Z Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
2026-01-03T22:05:42.2712571Z Downloading urllib3-1.26.20-py2.py3-none-any.whl (144 kB)
2026-01-03T22:05:42.2785546Z Downloading aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)
2026-01-03T22:05:42.2838777Z Downloading aiosignal-1.4.0-py3-none-any.whl (7.5 kB)
2026-01-03T22:05:42.2891497Z Downloading annotated_types-0.7.0-py3-none-any.whl (13 kB)
2026-01-03T22:05:42.2952628Z Downloading async_timeout-5.0.1-py3-none-any.whl (6.2 kB)
2026-01-03T22:05:42.3018351Z Downloading boolean_py-5.0-py3-none-any.whl (26 kB)
2026-01-03T22:05:42.3073524Z Downloading boto3-1.42.21-py3-none-any.whl (140 kB)
2026-01-03T22:05:42.3200911Z Downloading botocore-1.42.21-py3-none-any.whl (14.6 MB)
2026-01-03T22:05:42.3835729Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.6/14.6 MB 235.7 MB/s  0:00:00
2026-01-03T22:05:42.3877685Z Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)
2026-01-03T22:05:42.3945215Z Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
2026-01-03T22:05:42.4010205Z Downloading s3transfer-0.16.0-py3-none-any.whl (86 kB)
2026-01-03T22:05:42.4112561Z Downloading certifi-2025.11.12-py3-none-any.whl (159 kB)
2026-01-03T22:05:42.4177025Z Downloading cffi-2.0.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (219 kB)
2026-01-03T22:05:42.4262440Z Downloading envs-1.4-py3-none-any.whl (10 kB)
2026-01-03T22:05:42.4322336Z Downloading execnet-2.1.2-py3-none-any.whl (40 kB)
2026-01-03T22:05:42.4384776Z Downloading frozenlist-1.8.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (242 kB)
2026-01-03T22:05:42.4446745Z Downloading greenlet-3.3.0-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (609 kB)
2026-01-03T22:05:42.4514272Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 609.9/609.9 kB 93.8 MB/s  0:00:00
2026-01-03T22:05:42.4551012Z Downloading h11-0.16.0-py3-none-any.whl (37 kB)
2026-01-03T22:05:42.4618545Z Downloading habluetooth-5.8.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (700 kB)
2026-01-03T22:05:42.4682134Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 700.1/700.1 kB 108.9 MB/s  0:00:00
2026-01-03T22:05:42.4728556Z Downloading bleak-2.1.1-py3-none-any.whl (141 kB)
2026-01-03T22:05:42.4802453Z Downloading bleak_retry_connector-4.4.4-py3-none-any.whl (18 kB)
2026-01-03T22:05:42.4883736Z Downloading bluetooth_adapters-2.1.1-py3-none-any.whl (20 kB)
2026-01-03T22:05:42.4991463Z Downloading aiooui-0.1.9-py3-none-any.whl (367 kB)
2026-01-03T22:05:42.5077735Z Downloading bluetooth_auto_recovery-1.5.3-py3-none-any.whl (11 kB)
2026-01-03T22:05:42.5144636Z Downloading bluetooth_data_tools-1.28.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (414 kB)
2026-01-03T22:05:42.5227880Z Downloading btsocket-0.3.0-py2.py3-none-any.whl (14 kB)
2026-01-03T22:05:42.5295258Z Downloading dbus_fast-3.1.2-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (839 kB)
2026-01-03T22:05:42.5376037Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 839.7/839.7 kB 116.0 MB/s  0:00:00
2026-01-03T22:05:42.5414460Z Downloading markupsafe-3.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (22 kB)
2026-01-03T22:05:42.5470287Z Downloading packaging-25.0-py3-none-any.whl (66 kB)
2026-01-03T22:05:42.5546531Z Downloading pycares-5.0.1-cp312-cp312-manylinux_2_26_x86_64.manylinux_2_28_x86_64.whl (223 kB)
2026-01-03T22:05:42.5618703Z Downloading pytz-2025.2-py2.py3-none-any.whl (509 kB)
2026-01-03T22:05:42.5678530Z Using cached setuptools-80.9.0-py3-none-any.whl (1.2 MB)
2026-01-03T22:05:42.5723451Z Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
2026-01-03T22:05:42.5781810Z Downloading termcolor-3.3.0-py3-none-any.whl (7.7 kB)
2026-01-03T22:05:42.5836593Z Downloading text_unidecode-1.3-py2.py3-none-any.whl (78 kB)
2026-01-03T22:05:42.5899199Z Downloading tzdata-2025.3-py2.py3-none-any.whl (348 kB)
2026-01-03T22:05:42.5991033Z Downloading uart_devices-0.1.1-py3-none-any.whl (4.8 kB)
2026-01-03T22:05:42.6058983Z Downloading usb_devices-0.4.5-py3-none-any.whl (5.3 kB)
2026-01-03T22:05:42.6112663Z Downloading anyio-4.12.0-py3-none-any.whl (113 kB)
2026-01-03T22:05:42.6171274Z Downloading iniconfig-2.3.0-py3-none-any.whl (7.5 kB)
2026-01-03T22:05:42.6242162Z Downloading psutil-7.2.1-cp36-abi3-manylinux2010_x86_64.manylinux_2_12_x86_64.manylinux_2_28_x86_64.whl (154 kB)
2026-01-03T22:05:42.6305008Z Downloading pycparser-2.23-py3-none-any.whl (118 kB)
2026-01-03T22:05:42.6367919Z Downloading pyrfc3339-2.1.0-py3-none-any.whl (6.8 kB)
2026-01-03T22:05:42.6422745Z Downloading sniffio-1.3.1-py3-none-any.whl (10 kB)
2026-01-03T22:05:43.0241996Z Building wheels for collected packages: mock-open, paho-mqtt, fnvhash, PyRIC
2026-01-03T22:05:43.0250603Z   Building wheel for mock-open (pyproject.toml): started
2026-01-03T22:05:43.2512013Z   Building wheel for mock-open (pyproject.toml): finished with status 'done'
2026-01-03T22:05:43.2517849Z   Created wheel for mock-open: filename=mock_open-1.4.0-py3-none-any.whl size=14643 sha256=48f7e37d02185e08261085bade1f9b80dc8edaa7506a27cd51d3e7c03855ce25
2026-01-03T22:05:43.2519684Z   Stored in directory: /home/runner/.cache/pip/wheels/2d/cb/42/30f8e7ef326ebeeaac3942801463bafb76fb6573e8327eab99
2026-01-03T22:05:43.2545204Z   Building wheel for paho-mqtt (pyproject.toml): started
2026-01-03T22:05:43.4943796Z   Building wheel for paho-mqtt (pyproject.toml): finished with status 'done'
2026-01-03T22:05:43.4950178Z   Created wheel for paho-mqtt: filename=paho_mqtt-1.6.1-py3-none-any.whl size=62199 sha256=6ce31c75ba3114e919b14b51e8e4ba787175db2925c84bffe3214a54d39a7fc6
2026-01-03T22:05:43.4952018Z   Stored in directory: /home/runner/.cache/pip/wheels/23/d5/af/1f3cbcc350dec9d8e95040f388e0163d132eff0c9a453db659
2026-01-03T22:05:43.5001162Z   Building wheel for fnvhash (pyproject.toml): started
2026-01-03T22:05:43.7209102Z   Building wheel for fnvhash (pyproject.toml): finished with status 'done'
2026-01-03T22:05:43.7214329Z   Created wheel for fnvhash: filename=fnvhash-0.1.0-py3-none-any.whl size=2180 sha256=e4ae0763e1a11516cc541259cf6deccdb64d0174f9b4dc73cef74692b2f42a7f
2026-01-03T22:05:43.7216465Z   Stored in directory: /home/runner/.cache/pip/wheels/f3/f2/c9/9d2b575fa41b9c1f8b35131e1db072490bc6ff034ceb66eaca
2026-01-03T22:05:43.7239261Z   Building wheel for PyRIC (pyproject.toml): started
2026-01-03T22:05:44.0104230Z   Building wheel for PyRIC (pyproject.toml): finished with status 'done'
2026-01-03T22:05:44.0112810Z   Created wheel for PyRIC: filename=pyric-0.1.6.3-py2.py3-none-any.whl size=407978 sha256=ae5b55df8bcb4fc29464fbba6dcbd09823d3ce3a3d9bcbe7caf0e4530b6fc610
2026-01-03T22:05:44.0114476Z   Stored in directory: /home/runner/.cache/pip/wheels/71/5f/b2/33e36e10ea0e6b0dda30e364900611b0d428c72f9be83c3e38
2026-01-03T22:05:44.0135865Z Successfully built mock-open paho-mqtt fnvhash PyRIC
2026-01-03T22:05:44.4341152Z Installing collected packages: text-unidecode, pytz, PyRIC, paho-mqtt, mock-open, ifaddr, fnvhash, ciso8601, btsocket, boolean.py, voluptuous, uv, usb-devices, urllib3, ulid-transform, uart-devices, tzdata, typing-extensions, tqdm, termcolor, sniffio, six, setuptools, PyYAML, python-slugify, pyrfc3339, pylint-per-file-ignores, PyJWT, pycparser, psutil, propcache, pluggy, Pillow, packaging, orjson, numpy, multidict, MarkupSafe, lru-dict, license-expression, jmespath, iniconfig, idna, h11, greenlet, frozenlist, fnv-hash-fast, execnet, envs, dbus-fast, cronsim, coverage, charset-normalizer, certifi, bcrypt, awesomeversion, attrs, atomicwrites-homeassistant, async-timeout, async-interrupt, astral, annotated-types, aiooui, aiohappyeyeballs, yarl, voluptuous-serialize, voluptuous-openapi, sqlalchemy, requests, python-dateutil, pytest, pydantic-core, psutil-home-assistant, pipdeptree, mashumaro, Jinja2, httpcore, cffi, bleak, anyio, aiozoneinfo, aiosignal, webrtc-models, syrupy, requests-mock, pytest-xdist, pytest-unordered, pytest-timeout, pytest-sugar, pytest-socket, pytest-picked, pytest-github-actions-annotate-failures, pytest-cov, pytest-asyncio, pydantic, pycares, httpx, freezegun, cryptography, botocore, bluetooth-adapters, aiohttp, snitun, securetar, s3transfer, respx, pytest-freezer, pytest-aiohttp, pyOpenSSL, bluetooth-data-tools, bluetooth-auto-recovery, bleak-retry-connector, aiohttp-fast-zlib, aiohttp-cors, aiohasupervisor, aiodns, josepy, habluetooth, boto3, pycognito, home-assistant-bluetooth, acme, hass-nabucasa, homeassistant, pytest-homeassistant-custom-component
2026-01-03T22:06:07.4827334Z 
2026-01-03T22:06:07.4938582Z Successfully installed Jinja2-3.1.5 MarkupSafe-3.0.3 Pillow-11.0.0 PyJWT-2.10.1 PyRIC-0.1.6.3 PyYAML-6.0.2 acme-3.0.1 aiodns-3.2.0 aiohappyeyeballs-2.6.1 aiohasupervisor-0.2.2b5 aiohttp-3.11.11 aiohttp-cors-0.7.0 aiohttp-fast-zlib-0.2.0 aiooui-0.1.9 aiosignal-1.4.0 aiozoneinfo-0.2.1 annotated-types-0.7.0 anyio-4.12.0 astral-2.2 async-interrupt-1.2.0 async-timeout-5.0.1 atomicwrites-homeassistant-1.4.1 attrs-24.2.0 awesomeversion-24.6.0 bcrypt-4.2.0 bleak-2.1.1 bleak-retry-connector-4.4.4 bluetooth-adapters-2.1.1 bluetooth-auto-recovery-1.5.3 bluetooth-data-tools-1.28.4 boolean.py-5.0 boto3-1.42.21 botocore-1.42.21 btsocket-0.3.0 certifi-2025.11.12 cffi-2.0.0 charset-normalizer-3.4.4 ciso8601-2.3.2 coverage-7.6.8 cronsim-2.6 cryptography-44.0.0 dbus-fast-3.1.2 envs-1.4 execnet-2.1.2 fnv-hash-fast-1.0.2 fnvhash-0.1.0 freezegun-1.5.1 frozenlist-1.8.0 greenlet-3.3.0 h11-0.16.0 habluetooth-5.8.0 hass-nabucasa-0.87.0 home-assistant-bluetooth-1.13.0 homeassistant-2025.1.4 httpcore-1.0.9 httpx-0.27.2 idna-3.11 ifaddr-0.2.0 iniconfig-2.3.0 jmespath-1.0.1 josepy-1.15.0 license-expression-30.4.0 lru-dict-1.3.0 mashumaro-3.17 mock-open-1.4.0 multidict-6.7.0 numpy-2.2.0 orjson-3.10.12 packaging-25.0 paho-mqtt-1.6.1 pipdeptree-2.23.4 pluggy-1.6.0 propcache-0.2.1 psutil-7.2.1 psutil-home-assistant-0.0.1 pyOpenSSL-24.3.0 pycares-5.0.1 pycognito-2024.5.1 pycparser-2.23 pydantic-2.10.4 pydantic-core-2.27.2 pylint-per-file-ignores-1.3.2 pyrfc3339-2.1.0 pytest-8.3.4 pytest-aiohttp-1.0.5 pytest-asyncio-0.24.0 pytest-cov-6.0.0 pytest-freezer-0.4.8 pytest-github-actions-annotate-failures-0.2.0 pytest-homeassistant-custom-component-0.13.205 pytest-picked-0.5.0 pytest-socket-0.7.0 pytest-sugar-1.0.0 pytest-timeout-2.3.1 pytest-unordered-0.6.1 pytest-xdist-3.6.1 python-dateutil-2.9.0.post0 python-slugify-8.0.4 pytz-2025.2 requests-2.32.3 requests-mock-1.12.1 respx-0.21.1 s3transfer-0.16.0 securetar-2024.11.0 setuptools-80.9.0 six-1.17.0 sniffio-1.3.1 snitun-0.39.1 sqlalchemy-2.0.36 syrupy-4.8.0 termcolor-3.3.0 text-unidecode-1.3 tqdm-4.66.5 typing-extensions-4.15.0 tzdata-2025.3 uart-devices-0.1.1 ulid-transform-1.0.2 urllib3-1.26.20 usb-devices-0.4.5 uv-0.5.8 voluptuous-0.15.2 voluptuous-openapi-0.0.5 voluptuous-serialize-2.6.0 webrtc-models-0.3.0 yarl-1.18.3
2026-01-03T22:06:08.7613956Z ##[group]Run pytest tests/ -v --tb=short --cov=custom_components/thermostat_contact_sensors --cov-report=xml
2026-01-03T22:06:08.7614654Z [36;1mpytest tests/ -v --tb=short --cov=custom_components/thermostat_contact_sensors --cov-report=xml[0m
2026-01-03T22:06:08.7650262Z shell: /usr/bin/bash -e {0}
2026-01-03T22:06:08.7650480Z env:
2026-01-03T22:06:08.7650719Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:06:08.7651114Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib/pkgconfig
2026-01-03T22:06:08.7651508Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:06:08.7651851Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:06:08.7652194Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2026-01-03T22:06:08.7652691Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib
2026-01-03T22:06:08.7652977Z ##[endgroup]
2026-01-03T22:06:12.5488680Z ============================= test session starts ==============================
2026-01-03T22:06:12.5489354Z platform linux -- Python 3.12.12, pytest-8.3.4, pluggy-1.6.0 -- /opt/hostedtoolcache/Python/3.12.12/x64/bin/python
2026-01-03T22:06:12.5489903Z cachedir: .pytest_cache
2026-01-03T22:06:12.5490388Z rootdir: /home/runner/work/ha-thermostat-contact-sensors/ha-thermostat-contact-sensors
2026-01-03T22:06:12.5490900Z configfile: pytest.ini
2026-01-03T22:06:12.5492001Z plugins: github-actions-annotate-failures-0.2.0, asyncio-0.24.0, socket-0.7.0, requests-mock-1.12.1, cov-6.0.0, xdist-3.6.1, anyio-4.12.0, respx-0.21.1, timeout-2.3.1, aiohttp-1.0.5, pytest_freezer-0.4.8, homeassistant-custom-component-0.13.205, picked-0.5.0, unordered-0.6.1, syrupy-4.8.0, sugar-1.0.0
2026-01-03T22:06:12.5493003Z asyncio: mode=Mode.AUTO, default_loop_scope=function
2026-01-03T22:06:14.4284843Z collecting ... collected 376 items
2026-01-03T22:06:14.4285146Z 
2026-01-03T22:06:14.7100752Z tests/test_binary_sensor.py::test_binary_sensor_creation PASSED          [  0%]
2026-01-03T22:06:14.7703777Z tests/test_binary_sensor.py::test_binary_sensor_unique_id PASSED         [  0%]
2026-01-03T22:06:15.8338353Z tests/test_binary_sensor.py::test_binary_sensor_state_when_paused PASSED [  0%]
2026-01-03T22:06:15.8929591Z tests/test_binary_sensor.py::test_binary_sensor_attributes PASSED        [  1%]
2026-01-03T22:06:16.9564175Z tests/test_binary_sensor.py::test_binary_sensor_triggered_by_attribute PASSED [  1%]
2026-01-03T22:06:17.0155117Z tests/test_binary_sensor.py::test_binary_sensor_device_info PASSED       [  1%]
2026-01-03T22:06:17.0749306Z tests/test_binary_sensor.py::test_binary_sensor_restores_state PASSED    [  1%]
2026-01-03T22:06:17.1969948Z tests/test_config_flow.py::test_config_flow_user_init PASSED             [  2%]
2026-01-03T22:06:17.2623758Z tests/test_config_flow.py::test_config_flow_user_success PASSED          [  2%]
2026-01-03T22:06:17.2939017Z tests/test_config_flow.py::test_config_flow_no_thermostat_error PASSED   [  2%]
2026-01-03T22:06:17.3592719Z tests/test_config_flow.py::test_config_flow_duplicate_thermostat PASSED  [  2%]
2026-01-03T22:06:17.4246594Z tests/test_config_flow.py::test_config_flow_default_values PASSED        [  3%]
2026-01-03T22:06:17.4889274Z tests/test_config_flow.py::test_config_flow_with_notification_service PASSED [  3%]
2026-01-03T22:06:17.5551294Z tests/test_config_flow.py::test_config_flow_auto_discovers_areas PASSED  [  3%]
2026-01-03T22:06:17.6661438Z tests/test_coordinator.py::TestCoordinatorSetup::test_coordinator_setup PASSED [  3%]
2026-01-03T22:06:17.6893644Z tests/test_coordinator.py::TestCoordinatorSetup::test_coordinator_shutdown PASSED [  4%]
2026-01-03T22:06:17.7116981Z tests/test_coordinator.py::TestCoordinatorSetup::test_coordinator_initial_open_sensors PASSED [  4%]
2026-01-03T22:06:17.7343371Z tests/test_coordinator.py::TestSensorStateChanges::test_sensor_open_starts_timer PASSED [  4%]
2026-01-03T22:06:17.7589458Z tests/test_coordinator.py::TestSensorStateChanges::test_sensor_close_before_timeout_cancels_timer PASSED [  5%]
2026-01-03T22:06:17.7815995Z tests/test_coordinator.py::TestSensorStateChanges::test_multiple_sensors_open PASSED [  5%]
2026-01-03T22:06:17.8043633Z tests/test_coordinator.py::TestSensorStateChanges::test_sensor_unavailable_ignored PASSED [  5%]
2026-01-03T22:06:18.8305844Z tests/test_coordinator.py::TestThermostatPausing::test_thermostat_pauses_after_timeout PASSED [  5%]
2026-01-03T22:06:19.8594903Z tests/test_coordinator.py::TestThermostatPausing::test_thermostat_stores_previous_mode PASSED [  6%]
2026-01-03T22:06:19.8836034Z tests/test_coordinator.py::TestThermostatPausing::test_no_pause_if_sensor_closes_before_timeout PASSED [  6%]
2026-01-03T22:06:21.9125014Z tests/test_coordinator.py::TestThermostatResuming::test_thermostat_resumes_after_all_closed PASSED [  6%]
2026-01-03T22:06:22.9401129Z tests/test_coordinator.py::TestThermostatResuming::test_close_timer_cancelled_if_sensor_reopens PASSED [  6%]
2026-01-03T22:06:24.9705121Z tests/test_coordinator.py::TestThermostatResuming::test_resume_restores_previous_mode PASSED [  7%]
2026-01-03T22:06:25.9968647Z tests/test_coordinator.py::TestNotifications::test_notification_sent_on_pause PASSED [  7%]
2026-01-03T22:06:28.0265410Z tests/test_coordinator.py::TestNotifications::test_notification_sent_on_resume PASSED [  7%]
2026-01-03T22:06:29.0546728Z tests/test_coordinator.py::TestNotifications::test_no_notification_when_disabled PASSED [  7%]
2026-01-03T22:06:29.0823028Z tests/test_coordinator.py::TestOpenSensorCounts::test_open_count PASSED  [  8%]
2026-01-03T22:06:29.1052731Z tests/test_coordinator.py::TestOpenSensorCounts::test_open_doors_count PASSED [  8%]
2026-01-03T22:06:29.1278132Z tests/test_coordinator.py::TestOpenSensorCounts::test_open_windows_count PASSED [  8%]
2026-01-03T22:06:29.1515878Z tests/test_coordinator.py::TestOptionsUpdate::test_update_options PASSED [  9%]
2026-01-03T22:06:30.1799960Z tests/test_coordinator.py::TestManualOverride::test_manual_on_while_paused_clears_paused_state PASSED [  9%]
2026-01-03T22:06:31.2078983Z tests/test_coordinator.py::TestManualOverride::test_manual_on_while_paused_cancels_close_timer PASSED [  9%]
2026-01-03T22:06:33.2381701Z tests/test_coordinator.py::TestManualOverride::test_manual_off_while_paused_updates_previous_mode PASSED [  9%]
2026-01-03T22:06:33.2618161Z tests/test_coordinator.py::TestManualOverride::test_tracks_last_known_hvac_mode PASSED [ 10%]
2026-01-03T22:06:34.2914202Z tests/test_coordinator.py::TestManualOverride::test_respects_user_mode_change_for_restore PASSED [ 10%]
2026-01-03T22:06:34.3502022Z tests/test_coordinator.py::TestTemperatureSensorStateChange::test_temp_sensor_listener_subscribed PASSED [ 10%]
2026-01-03T22:06:34.4078291Z tests/test_coordinator.py::TestTemperatureSensorStateChange::test_temp_sensor_listener_cleanup PASSED [ 10%]
2026-01-03T22:06:34.4700088Z tests/test_coordinator.py::TestTemperatureSensorStateChange::test_temp_sensor_change_triggers_update PASSED [ 11%]
2026-01-03T22:06:34.5282651Z tests/test_coordinator.py::TestTemperatureSensorStateChange::test_temp_sensor_unavailable_ignored PASSED [ 11%]
2026-01-03T22:06:34.6551298Z tests/test_coordinator.py::TestTimerRecalculation::test_triggering_sensor_closes_others_open_recalculates_timer PASSED [ 11%]
2026-01-03T22:06:34.6799525Z tests/test_coordinator.py::TestTimerRecalculation::test_all_sensors_close_before_timeout_cancels_timer PASSED [ 11%]
2026-01-03T22:06:34.7550809Z tests/test_coordinator.py::TestTimerRecalculation::test_non_triggering_sensor_closes_no_recalculation PASSED [ 12%]
2026-01-03T22:06:35.8835852Z tests/test_coordinator.py::TestTimerRecalculation::test_recalculation_triggers_immediate_if_already_expired PASSED [ 12%]
2026-01-03T22:06:36.0086954Z tests/test_coordinator.py::TestTimerRecalculation::test_open_sensor_timestamps_preserved_on_update PASSED [ 12%]
2026-01-03T22:06:36.1619425Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_returns_data PASSED [ 13%]
2026-01-03T22:06:36.2217120Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_config_entry_info PASSED [ 13%]
2026-01-03T22:06:36.2816330Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_coordinator_state PASSED [ 13%]
2026-01-03T22:06:36.3404591Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_thermostat_info PASSED [ 13%]
2026-01-03T22:06:36.3999565Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_contact_sensors PASSED [ 14%]
2026-01-03T22:06:36.4587893Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_entities_list PASSED [ 14%]
2026-01-03T22:06:36.5176964Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_redacts_notify_service PASSED [ 14%]
2026-01-03T22:06:36.5761234Z tests/test_diagnostics.py::TestDiagnostics::test_diagnostics_occupancy_state PASSED [ 14%]
2026-01-03T22:06:36.7250286Z tests/test_init.py::test_setup_entry PASSED                              [ 15%]
2026-01-03T22:06:36.7826108Z tests/test_init.py::test_unload_entry PASSED                             [ 15%]
2026-01-03T22:06:36.8623603Z tests/test_init.py::test_reload_entry PASSED                             [ 15%]
2026-01-03T22:06:36.9214884Z tests/test_init.py::test_runtime_data_created PASSED                     [ 15%]
2026-01-03T22:06:36.9822249Z tests/test_init.py::test_platforms_setup PASSED                          [ 16%]
2026-01-03T22:06:37.0405501Z tests/test_init.py::test_device_created PASSED                           [ 16%]
2026-01-03T22:06:37.1233443Z tests/test_init.py::test_options_update_listener PASSED                  [ 16%]
2026-01-03T22:06:37.2001453Z tests/test_init.py::test_multiple_config_entries PASSED                  [ 17%]
2026-01-03T22:06:37.2745111Z tests/test_init.py::test_coordinator_cleanup_on_unload PASSED            [ 17%]
2026-01-03T22:06:37.3901101Z tests/test_integration.py::TestContactSensorEffects::test_contact_open_pauses_thermostat_after_timeout PASSED [ 17%]
2026-01-03T22:06:37.4196100Z tests/test_integration.py::TestContactSensorEffects::test_contact_close_resumes_thermostat_after_timeout PASSED [ 17%]
2026-01-03T22:06:37.4476070Z tests/test_integration.py::TestContactSensorEffects::test_multiple_contacts_open_one_close_stays_paused PASSED [ 18%]
2026-01-03T22:06:37.4767556Z tests/test_integration.py::TestOccupancyVentEffects::test_occupied_room_opens_vents_after_delay PASSED [ 18%]
2026-01-03T22:06:37.5036747Z tests/test_integration.py::TestOccupancyVentEffects::test_occupied_room_below_delay_keeps_vents_closed PASSED [ 18%]
2026-01-03T22:06:37.5301566Z tests/test_integration.py::TestOccupancyVentEffects::test_inactive_room_closes_vents PASSED [ 18%]
2026-01-03T22:06:37.5580841Z tests/test_integration.py::TestTemperatureEffects::test_satiated_room_closes_vents PASSED [ 19%]
2026-01-03T22:06:37.5860949Z tests/test_integration.py::TestTemperatureEffects::test_unsatiated_room_keeps_vents_open PASSED [ 19%]
2026-01-03T22:06:37.6136462Z tests/test_integration.py::TestContactSensorPausePrecedence::test_pause_prevents_thermostat_turn_on_even_when_unsatiated PASSED [ 19%]
2026-01-03T22:06:37.6440150Z tests/test_integration.py::TestContactSensorPausePrecedence::test_resume_immediately_evaluates_thermostat_state PASSED [ 19%]
2026-01-03T22:06:37.6750561Z tests/test_integration.py::TestContactSensorPausePrecedence::test_satiated_room_stays_off_after_resume PASSED [ 20%]
2026-01-03T22:06:37.8057580Z tests/test_integration.py::TestTimerRecalculationIntegration::test_garage_opens_theater_opens_garage_closes_timer_recalculates PASSED [ 20%]
2026-01-03T22:06:37.9383801Z tests/test_integration.py::TestTimerRecalculationIntegration::test_multiple_sensors_close_in_sequence PASSED [ 20%]
2026-01-03T22:06:37.9648893Z tests/test_integration.py::TestCriticalTemperatureEffects::test_critical_cold_room_opens_vents PASSED [ 21%]
2026-01-03T22:06:37.9913978Z tests/test_integration.py::TestCriticalTemperatureEffects::test_critical_room_counts_toward_minimum_vents PASSED [ 21%]
2026-01-03T22:06:38.0196322Z tests/test_integration.py::TestMinimumVentsOpen::test_minimum_vents_kept_open_when_all_inactive PASSED [ 21%]
2026-01-03T22:06:38.0458049Z tests/test_integration.py::TestMinimumVentsOpen::test_vent_group_counts_as_multiple_vents PASSED [ 21%]
2026-01-03T22:06:38.0726900Z tests/test_integration.py::TestFullSystemIntegration::test_scenario_morning_wakeup PASSED [ 22%]
2026-01-03T22:06:38.1000658Z tests/test_integration.py::TestFullSystemIntegration::test_scenario_window_opened_during_heating PASSED [ 22%]
2026-01-03T22:06:38.1289208Z tests/test_integration.py::TestFullSystemIntegration::test_scenario_all_rooms_reach_temperature PASSED [ 22%]
2026-01-03T22:06:38.1541589Z tests/test_integration.py::TestFullSystemIntegration::test_scenario_mixed_room_states PASSED [ 22%]
2026-01-03T22:06:38.1814850Z tests/test_integration.py::TestEdgeCases::test_thermostat_unavailable PASSED [ 23%]
2026-01-03T22:06:38.2096905Z tests/test_integration.py::TestEdgeCases::test_temperature_sensor_unavailable PASSED [ 23%]
2026-01-03T22:06:38.2363101Z tests/test_integration.py::TestEdgeCases::test_vent_unavailable PASSED   [ 23%]
2026-01-03T22:06:38.2610164Z tests/test_integration.py::TestEdgeCases::test_empty_areas_config PASSED [ 23%]
2026-01-03T22:06:38.2925894Z tests/test_integration.py::TestEdgeCases::test_rapid_occupancy_changes PASSED [ 24%]
2026-01-03T22:06:38.3961079Z tests/test_occupancy.py::TestIsBinarySensorOccupied::test_none_state_returns_false PASSED [ 24%]
2026-01-03T22:06:38.4127137Z tests/test_occupancy.py::TestIsBinarySensorOccupied::test_on_state_returns_true PASSED [ 24%]
2026-01-03T22:06:38.4291141Z tests/test_occupancy.py::TestIsBinarySensorOccupied::test_off_state_returns_false PASSED [ 25%]
2026-01-03T22:06:38.4457021Z tests/test_occupancy.py::TestIsBinarySensorOccupied::test_unavailable_state_returns_false PASSED [ 25%]
2026-01-03T22:06:38.4636089Z tests/test_occupancy.py::TestIsBinarySensorOccupied::test_unknown_state_returns_false PASSED [ 25%]
2026-01-03T22:06:38.4797276Z tests/test_occupancy.py::TestIsSensorOccupied::test_none_state_returns_false PASSED [ 25%]
2026-01-03T22:06:38.4960500Z tests/test_occupancy.py::TestIsSensorOccupied::test_previous_valid_state_on_returns_true PASSED [ 26%]
2026-01-03T22:06:38.5125218Z tests/test_occupancy.py::TestIsSensorOccupied::test_previous_valid_state_off_returns_false PASSED [ 26%]
2026-01-03T22:06:38.5297660Z tests/test_occupancy.py::TestIsSensorOccupied::test_no_previous_valid_state_attribute_returns_false PASSED [ 26%]
2026-01-03T22:06:38.5469971Z tests/test_occupancy.py::TestIsSensorOccupied::test_unavailable_state_returns_false PASSED [ 26%]
2026-01-03T22:06:38.5664433Z tests/test_occupancy.py::TestIsSensorOccupied::test_unknown_state_returns_false PASSED [ 27%]
2026-01-03T22:06:38.5830630Z tests/test_occupancy.py::TestGetSensorOccupancyState::test_binary_sensor_on PASSED [ 27%]
2026-01-03T22:06:38.5997245Z tests/test_occupancy.py::TestGetSensorOccupancyState::test_binary_sensor_off PASSED [ 27%]
2026-01-03T22:06:38.6162372Z tests/test_occupancy.py::TestGetSensorOccupancyState::test_sensor_with_previous_valid_state_on PASSED [ 27%]
2026-01-03T22:06:38.6329786Z tests/test_occupancy.py::TestGetSensorOccupancyState::test_sensor_with_previous_valid_state_off PASSED [ 28%]
2026-01-03T22:06:38.6493503Z tests/test_occupancy.py::TestGetSensorOccupancyState::test_none_state_returns_false PASSED [ 28%]
2026-01-03T22:06:38.6673998Z tests/test_occupancy.py::TestAreaOccupancyState::test_is_occupied_with_no_sensors PASSED [ 28%]
2026-01-03T22:06:38.6836617Z tests/test_occupancy.py::TestAreaOccupancyState::test_is_occupied_with_binary_sensor PASSED [ 28%]
2026-01-03T22:06:38.6999686Z tests/test_occupancy.py::TestAreaOccupancyState::test_is_occupied_with_regular_sensor PASSED [ 29%]
2026-01-03T22:06:38.7162418Z tests/test_occupancy.py::TestAreaOccupancyState::test_is_occupied_with_both_sensor_types PASSED [ 29%]
2026-01-03T22:06:38.7325277Z tests/test_occupancy.py::TestAreaOccupancyState::test_all_sensors PASSED [ 29%]
2026-01-03T22:06:38.7487761Z tests/test_occupancy.py::TestAreaOccupancyState::test_occupied_sensor_count PASSED [ 30%]
2026-01-03T22:06:38.7666359Z tests/test_occupancy.py::TestAreaOccupancyState::test_total_sensor_count PASSED [ 30%]
2026-01-03T22:06:38.7829878Z tests/test_occupancy.py::TestAreaOccupancyState::test_get_occupancy_duration_when_not_occupied PASSED [ 30%]
2026-01-03T22:06:38.7991978Z tests/test_occupancy.py::TestAreaOccupancyState::test_get_occupancy_duration_when_occupied PASSED [ 30%]
2026-01-03T22:06:38.8154324Z tests/test_occupancy.py::TestAreaOccupancyState::test_get_occupancy_minutes PASSED [ 31%]
2026-01-03T22:06:38.8318010Z tests/test_occupancy.py::TestAreaOccupancyState::test_get_occupancy_minutes_when_not_occupied PASSED [ 31%]
2026-01-03T22:06:38.8504290Z tests/test_occupancy.py::TestRoomOccupancyTrackerInit::test_init_with_default_min_occupancy PASSED [ 31%]
2026-01-03T22:06:38.8706771Z tests/test_occupancy.py::TestRoomOccupancyTrackerInit::test_init_with_custom_min_occupancy PASSED [ 31%]
2026-01-03T22:06:38.8891628Z tests/test_occupancy.py::TestRoomOccupancyTrackerInit::test_min_occupancy_minutes_setter PASSED [ 32%]
2026-01-03T22:06:38.9077693Z tests/test_occupancy.py::TestRoomOccupancyTrackerInit::test_disabled_areas_are_not_tracked PASSED [ 32%]
2026-01-03T22:06:38.9264450Z tests/test_occupancy.py::TestRoomOccupancyTrackerInit::test_all_tracked_sensors PASSED [ 32%]
2026-01-03T22:06:38.9455705Z tests/test_occupancy.py::TestRoomOccupancyTrackerSetupShutdown::test_setup_subscribes_to_state_changes PASSED [ 32%]
2026-01-03T22:06:38.9650290Z tests/test_occupancy.py::TestRoomOccupancyTrackerSetupShutdown::test_shutdown_unsubscribes PASSED [ 33%]
2026-01-03T22:06:38.9863755Z tests/test_occupancy.py::TestRoomOccupancyTrackerSetupShutdown::test_setup_scans_initial_sensor_states PASSED [ 33%]
2026-01-03T22:06:39.0060656Z tests/test_occupancy.py::TestRoomOccupancyTrackerOccupancy::test_binary_sensor_on_makes_area_occupied PASSED [ 33%]
2026-01-03T22:06:39.0259919Z tests/test_occupancy.py::TestRoomOccupancyTrackerOccupancy::test_sensor_previous_valid_state_on_makes_area_occupied PASSED [ 34%]
2026-01-03T22:06:39.0472448Z tests/test_occupancy.py::TestRoomOccupancyTrackerOccupancy::test_multiple_sensors_or_logic PASSED [ 34%]
2026-01-03T22:06:39.1710502Z tests/test_occupancy.py::TestRoomOccupancyTrackerOccupancy::test_continuous_occupancy_with_sensor_handoff PASSED [ 34%]
2026-01-03T22:06:39.1922827Z tests/test_occupancy.py::TestRoomOccupancyTrackerOccupancy::test_all_sensors_off_clears_occupancy PASSED [ 34%]
2026-01-03T22:06:39.2142581Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_newly_occupied_area_is_not_active PASSED [ 35%]
2026-01-03T22:06:39.2337057Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_area_becomes_active_after_threshold PASSED [ 35%]
2026-01-03T22:06:39.2531893Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_area_not_active_before_threshold PASSED [ 35%]
2026-01-03T22:06:39.2725989Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_changing_min_occupancy_updates_active_status PASSED [ 35%]
2026-01-03T22:06:39.2911013Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_init_with_default_grace_period PASSED [ 36%]
2026-01-03T22:06:39.3097709Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_init_with_custom_grace_period PASSED [ 36%]
2026-01-03T22:06:39.3297763Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_grace_period_minimum_enforced_on_init PASSED [ 36%]
2026-01-03T22:06:39.3487958Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_grace_period_minimum_enforced_on_setter PASSED [ 36%]
2026-01-03T22:06:39.3673207Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_grace_period_setter_updates_value PASSED [ 37%]
2026-01-03T22:06:39.3869460Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_custom_grace_period_used_for_expiration PASSED [ 37%]
2026-01-03T22:06:39.4065770Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_grace_period_independent_of_min_occupancy PASSED [ 37%]
2026-01-03T22:06:39.4272470Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_active_enters_grace_period_when_unoccupied PASSED [ 38%]
2026-01-03T22:06:39.4480251Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_grace_period_expires_after_threshold PASSED [ 38%]
2026-01-03T22:06:39.4690569Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_reoccupancy_during_grace_period_remains_active PASSED [ 38%]
2026-01-03T22:06:39.4894559Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_non_active_area_no_grace_period_when_unoccupied PASSED [ 38%]
2026-01-03T22:06:39.5086565Z tests/test_occupancy.py::TestRoomOccupancyTrackerActiveStatus::test_grace_period_not_expired_before_threshold PASSED [ 39%]
2026-01-03T22:06:39.5292825Z tests/test_occupancy.py::TestRoomOccupancyTrackerProperties::test_occupied_areas_property PASSED [ 39%]
2026-01-03T22:06:39.5498940Z tests/test_occupancy.py::TestRoomOccupancyTrackerProperties::test_active_areas_property PASSED [ 39%]
2026-01-03T22:06:39.5698768Z tests/test_occupancy.py::TestRoomOccupancyTrackerProperties::test_any_area_occupied_property PASSED [ 39%]
2026-01-03T22:06:39.5897619Z tests/test_occupancy.py::TestRoomOccupancyTrackerProperties::test_any_area_active_property PASSED [ 40%]
2026-01-03T22:06:39.6098043Z tests/test_occupancy.py::TestRoomOccupancyTrackerProperties::test_inactive_areas_property PASSED [ 40%]
2026-01-03T22:06:39.6304102Z tests/test_occupancy.py::TestRoomOccupancyTrackerCallbacks::test_register_update_callback PASSED [ 40%]
2026-01-03T22:06:39.6537815Z tests/test_occupancy.py::TestRoomOccupancyTrackerCallbacks::test_multiple_callbacks PASSED [ 40%]
2026-01-03T22:06:39.6743574Z tests/test_occupancy.py::TestRoomOccupancyTrackerConfigUpdate::test_update_config_rebuilds_tracking PASSED [ 41%]
2026-01-03T22:06:39.6944515Z tests/test_occupancy.py::TestRoomOccupancyTrackerSummary::test_get_summary PASSED [ 41%]
2026-01-03T22:06:39.7153181Z tests/test_occupancy.py::TestRoomOccupancyTrackerEdgeCases::test_sensor_state_unavailable PASSED [ 41%]
2026-01-03T22:06:39.7341743Z tests/test_occupancy.py::TestRoomOccupancyTrackerEdgeCases::test_get_area_returns_none_for_unknown_area PASSED [ 42%]
2026-01-03T22:06:39.7515243Z tests/test_occupancy.py::TestRoomOccupancyTrackerEdgeCases::test_empty_areas_config PASSED [ 42%]
2026-01-03T22:06:39.7689715Z tests/test_occupancy.py::TestRoomOccupancyTrackerEdgeCases::test_area_with_no_occupancy_sensors PASSED [ 42%]
2026-01-03T22:06:39.7870972Z tests/test_occupancy.py::TestAreaOccupancyStateSerialization::test_to_storage_dict_empty_state PASSED [ 42%]
2026-01-03T22:06:39.8035033Z tests/test_occupancy.py::TestAreaOccupancyStateSerialization::test_to_storage_dict_active_state PASSED [ 43%]
2026-01-03T22:06:39.8200542Z tests/test_occupancy.py::TestAreaOccupancyStateSerialization::test_to_storage_dict_grace_period_state PASSED [ 43%]
2026-01-03T22:06:39.8364310Z tests/test_occupancy.py::TestAreaOccupancyStateSerialization::test_restore_from_storage_empty_data PASSED [ 43%]
2026-01-03T22:06:39.8529869Z tests/test_occupancy.py::TestAreaOccupancyStateSerialization::test_restore_from_storage_active_state PASSED [ 43%]
2026-01-03T22:06:39.8694308Z tests/test_occupancy.py::TestAreaOccupancyStateSerialization::test_restore_from_storage_grace_period_state PASSED [ 44%]
2026-01-03T22:06:39.8875017Z tests/test_occupancy.py::TestAreaOccupancyStateSerialization::test_restore_from_storage_invalid_timestamp PASSED [ 44%]
2026-01-03T22:06:39.9064999Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_tracker_with_entry_id_has_store PASSED [ 44%]
2026-01-03T22:06:39.9252817Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_tracker_without_entry_id_no_store PASSED [ 44%]
2026-01-03T22:06:39.9447971Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_save_state_creates_data PASSED [ 45%]
2026-01-03T22:06:39.9649342Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_restore_state_loads_data PASSED [ 45%]
2026-01-03T22:06:39.9839553Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_restore_state_no_data PASSED [ 45%]
2026-01-03T22:06:40.0078831Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_setup_restores_state PASSED [ 46%]
2026-01-03T22:06:40.0303707Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_shutdown_saves_state PASSED [ 46%]
2026-01-03T22:06:40.0502342Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_restore_ignores_unknown_areas PASSED [ 46%]
2026-01-03T22:06:40.0728645Z tests/test_occupancy.py::TestRoomOccupancyTrackerPersistence::test_persist_grace_period_state PASSED [ 46%]
2026-01-03T22:06:40.2305793Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_sensor_creation_per_area PASSED [ 47%]
2026-01-03T22:06:40.2881703Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_sensor_unique_id PASSED [ 47%]
2026-01-03T22:06:40.3483927Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_initial_state_inactive PASSED [ 47%]
2026-01-03T22:06:40.4096923Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_state_becomes_occupied PASSED [ 47%]
2026-01-03T22:06:40.4714684Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_occupied_sensors_attribute PASSED [ 48%]
2026-01-03T22:06:40.5322916Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_time_until_active_attribute PASSED [ 48%]
2026-01-03T22:06:40.5973597Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_state_becomes_inactive_when_unoccupied PASSED [ 48%]
2026-01-03T22:06:40.6562847Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_area_attributes PASSED [ 48%]
2026-01-03T22:06:40.7147195Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_min_occupancy_minutes_attribute PASSED [ 49%]
2026-01-03T22:06:40.7741967Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_grace_period_minutes_attribute PASSED [ 49%]
2026-01-03T22:06:40.8325335Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_grace_period_attributes_when_not_in_grace_period PASSED [ 49%]
2026-01-03T22:06:40.9008005Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_active_area_enters_grace_period_when_unoccupied PASSED [ 50%]
2026-01-03T22:06:40.9692074Z tests/test_occupancy_and_control_sensors.py::TestRoomOccupancySensor::test_reoccupancy_during_grace_period_clears_grace_period PASSED [ 50%]
2026-01-03T22:06:41.0288377Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_sensor_creation PASSED [ 50%]
2026-01-03T22:06:41.0900010Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_sensor_unique_id PASSED [ 50%]
2026-01-03T22:06:41.1486098Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_initial_state_idle PASSED [ 51%]
2026-01-03T22:06:41.2108276Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_thermostat_entity_id_attribute PASSED [ 51%]
2026-01-03T22:06:41.2714915Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_paused_state PASSED [ 51%]
2026-01-03T22:06:41.3296473Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_hvac_mode_attribute PASSED [ 51%]
2026-01-03T22:06:41.3892891Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_room_count_attributes PASSED [ 52%]
2026-01-03T22:06:41.4476330Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_cycle_protection_attributes PASSED [ 52%]
2026-01-03T22:06:41.5071794Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_recommended_action_attribute PASSED [ 52%]
2026-01-03T22:06:41.5657048Z tests/test_occupancy_and_control_sensors.py::TestThermostatControlSensor::test_room_summary_attribute PASSED [ 52%]
2026-01-03T22:06:41.6244097Z tests/test_occupancy_and_control_sensors.py::TestSensorIntegration::test_all_sensors_created PASSED [ 53%]
2026-01-03T22:06:41.6856947Z tests/test_occupancy_and_control_sensors.py::TestSensorIntegration::test_sensors_share_device PASSED [ 53%]
2026-01-03T22:06:41.8504115Z tests/test_options_flow.py::test_options_flow_shows_menu PASSED          [ 53%]
2026-01-03T22:06:41.9406534Z tests/test_options_flow.py::test_options_flow_global_settings PASSED     [ 53%]
2026-01-03T22:06:42.0307485Z tests/test_options_flow.py::test_options_flow_global_settings_grace_period PASSED [ 54%]
2026-01-03T22:06:42.0957037Z tests/test_options_flow.py::test_options_flow_thermostat PASSED          [ 54%]
2026-01-03T22:06:42.1583348Z tests/test_options_flow.py::test_options_flow_manage_areas_checkboxes PASSED [ 54%]
2026-01-03T22:06:42.2230271Z tests/test_options_flow.py::test_options_flow_configure_area_sensors_menu PASSED [ 55%]
2026-01-03T22:06:42.3787751Z 
2026-01-03T22:06:42.3817049Z ##[error]test_options_flow_area_config

homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:42.3960482Z tests/test_options_flow.py::test_options_flow_area_config FAILED         [ 55%]
2026-01-03T22:06:42.5396672Z 
2026-01-03T22:06:42.5399696Z ##[error]test_options_flow_disable_area

homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:42.5557731Z tests/test_options_flow.py::test_options_flow_disable_area FAILED        [ 55%]
2026-01-03T22:06:42.6230412Z tests/test_options_flow.py::test_options_flow_thermostat_required PASSED [ 55%]
2026-01-03T22:06:42.7701377Z 
2026-01-03T22:06:42.7704435Z ##[error]test_options_flow_sensor_count_updates_after_adding

homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:42.7865368Z tests/test_options_flow.py::test_options_flow_sensor_count_updates_after_adding FAILED [ 56%]
2026-01-03T22:06:42.9328719Z 
2026-01-03T22:06:42.9331268Z ##[error]test_options_flow_sensor_count_updates_after_removing

homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:42.9486967Z tests/test_options_flow.py::test_options_flow_sensor_count_updates_after_removing FAILED [ 56%]
2026-01-03T22:06:43.0919837Z 
2026-01-03T22:06:43.0922068Z ##[error]test_options_flow_enable_disable_areas_shows_correct_count

homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:43.1084459Z tests/test_options_flow.py::test_options_flow_enable_disable_areas_shows_correct_count FAILED [ 56%]
2026-01-03T22:06:43.2677233Z tests/test_sensor.py::test_sensor_creation PASSED                        [ 56%]
2026-01-03T22:06:43.3324290Z tests/test_sensor.py::test_sensor_unique_id PASSED                       [ 57%]
2026-01-03T22:06:43.3990273Z tests/test_sensor.py::test_sensor_count_updates PASSED                   [ 57%]
2026-01-03T22:06:43.4618670Z tests/test_sensor.py::test_sensor_attributes_open_sensors PASSED         [ 57%]
2026-01-03T22:06:43.5275409Z tests/test_sensor.py::test_sensor_attributes_door_window_counts PASSED   [ 57%]
2026-01-03T22:06:43.5903913Z tests/test_sensor.py::test_sensor_attributes_monitored_sensors PASSED    [ 58%]
2026-01-03T22:06:43.6521010Z tests/test_sensor.py::test_sensor_unit_of_measurement PASSED             [ 58%]
2026-01-03T22:06:43.7201279Z tests/test_sensor.py::test_sensor_device_info PASSED                     [ 58%]
2026-01-03T22:06:43.8714398Z tests/test_services.py::TestServiceRegistration::test_services_registered PASSED [ 59%]
2026-01-03T22:06:43.9515770Z tests/test_services.py::TestServiceRegistration::test_services_registered_once PASSED [ 59%]
2026-01-03T22:06:44.0152920Z tests/test_services.py::TestPauseService::test_pause_service_pauses_thermostat PASSED [ 59%]
2026-01-03T22:06:44.0804512Z tests/test_services.py::TestPauseService::test_pause_service_already_paused PASSED [ 59%]
2026-01-03T22:06:44.1387234Z tests/test_services.py::TestPauseService::test_pause_service_invalid_entry_id PASSED [ 60%]
2026-01-03T22:06:44.2059250Z tests/test_services.py::TestResumeService::test_resume_service_resumes_thermostat PASSED [ 60%]
2026-01-03T22:06:44.2698507Z tests/test_services.py::TestResumeService::test_resume_service_not_paused PASSED [ 60%]
2026-01-03T22:06:44.3295769Z tests/test_services.py::TestResumeService::test_resume_service_invalid_entry_id PASSED [ 60%]
2026-01-03T22:06:44.3946825Z tests/test_services.py::TestRecalculateService::test_recalculate_service PASSED [ 61%]
2026-01-03T22:06:44.4535694Z tests/test_services.py::TestRecalculateService::test_recalculate_service_invalid_entry_id PASSED [ 61%]
2026-01-03T22:06:44.5724551Z tests/test_switch.py::TestRespectUserOffSwitch::test_switch_default_state_is_off ERROR [ 61%]
2026-01-03T22:06:44.5972232Z tests/test_switch.py::TestRespectUserOffSwitch::test_switch_turn_on ERROR [ 61%]
2026-01-03T22:06:44.6220896Z tests/test_switch.py::TestRespectUserOffSwitch::test_switch_turn_off ERROR [ 62%]
2026-01-03T22:06:44.6481844Z tests/test_switch.py::TestRespectUserOffBehavior::test_thermostat_off_resumes_when_respect_off_disabled ERROR [ 62%]
2026-01-03T22:06:44.6727776Z tests/test_switch.py::TestRespectUserOffBehavior::test_thermostat_stays_off_when_respect_off_enabled ERROR [ 62%]
2026-01-03T22:06:44.6972479Z tests/test_switch.py::TestRespectUserOffBehavior::test_active_thermostat_always_resumes ERROR [ 63%]
2026-01-03T22:06:44.7220717Z tests/test_switch.py::TestRespectUserOffBehavior::test_switch_extra_state_attributes ERROR [ 63%]
2026-01-03T22:06:44.8253376Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_valid_temperature PASSED [ 63%]
2026-01-03T22:06:44.8420965Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_integer_temperature PASSED [ 63%]
2026-01-03T22:06:44.8585363Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_unavailable_state PASSED [ 64%]
2026-01-03T22:06:44.8751583Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_unknown_state PASSED [ 64%]
2026-01-03T22:06:44.8933226Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_none_state PASSED [ 64%]
2026-01-03T22:06:44.9102579Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_invalid_string_state PASSED [ 64%]
2026-01-03T22:06:44.9270076Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_empty_string_state PASSED [ 65%]
2026-01-03T22:06:44.9436768Z tests/test_thermostat_control.py::TestGetTemperatureFromState::test_negative_temperature PASSED [ 65%]
2026-01-03T22:06:44.9601297Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_satiated_when_at_target PASSED [ 65%]
2026-01-03T22:06:44.9769272Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_satiated_within_deadband PASSED [ 65%]
2026-01-03T22:06:44.9948910Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_satiated_exactly_at_deadband_boundary PASSED [ 66%]
2026-01-03T22:06:45.0113108Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_not_satiated_below_deadband PASSED [ 66%]
2026-01-03T22:06:45.0276904Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_satiated_when_above_target PASSED [ 66%]
2026-01-03T22:06:45.0440177Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_multiple_sensors_warmest_satiated PASSED [ 67%]
2026-01-03T22:06:45.0606987Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_multiple_sensors_none_satiated PASSED [ 67%]
2026-01-03T22:06:45.0771723Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_empty_readings PASSED [ 67%]
2026-01-03T22:06:45.0966800Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeat::test_zero_deadband PASSED [ 67%]
2026-01-03T22:06:45.1134234Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_satiated_when_at_target PASSED [ 68%]
2026-01-03T22:06:45.1299413Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_satiated_within_deadband PASSED [ 68%]
2026-01-03T22:06:45.1465038Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_satiated_exactly_at_deadband_boundary PASSED [ 68%]
2026-01-03T22:06:45.1629804Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_not_satiated_above_deadband PASSED [ 68%]
2026-01-03T22:06:45.1794199Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_satiated_when_below_target PASSED [ 69%]
2026-01-03T22:06:45.1975797Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_multiple_sensors_coolest_satiated PASSED [ 69%]
2026-01-03T22:06:45.2137952Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_multiple_sensors_none_satiated PASSED [ 69%]
2026-01-03T22:06:45.2299797Z tests/test_thermostat_control.py::TestIsRoomSatiatedForCool::test_empty_readings PASSED [ 69%]
2026-01-03T22:06:45.2462455Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeatCool::test_satiated_when_in_range PASSED [ 70%]
2026-01-03T22:06:45.2625415Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeatCool::test_satiated_near_low_boundary PASSED [ 70%]
2026-01-03T22:06:45.2788720Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeatCool::test_satiated_near_high_boundary PASSED [ 70%]
2026-01-03T22:06:45.2968146Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeatCool::test_not_satiated_too_cold PASSED [ 71%]
2026-01-03T22:06:45.3130376Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeatCool::test_not_satiated_too_hot PASSED [ 71%]
2026-01-03T22:06:45.3291415Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeatCool::test_multiple_sensors_one_satiated PASSED [ 71%]
2026-01-03T22:06:45.3453243Z tests/test_thermostat_control.py::TestIsRoomSatiatedForHeatCool::test_empty_readings PASSED [ 71%]
2026-01-03T22:06:45.3616388Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_has_valid_readings_true PASSED [ 72%]
2026-01-03T22:06:45.3782042Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_has_valid_readings_false PASSED [ 72%]
2026-01-03T22:06:45.3968167Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_available_sensor_count PASSED [ 72%]
2026-01-03T22:06:45.4130700Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_get_closest_to_target_heat_mode PASSED [ 72%]
2026-01-03T22:06:45.4297367Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_get_closest_to_target_cool_mode PASSED [ 73%]
2026-01-03T22:06:45.4462717Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_get_closest_to_target_no_readings PASSED [ 73%]
2026-01-03T22:06:45.4626995Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_target_temperature_field PASSED [ 73%]
2026-01-03T22:06:45.4792345Z tests/test_thermostat_control.py::TestRoomTemperatureState::test_target_temperature_default_none PASSED [ 73%]
2026-01-03T22:06:45.4989329Z tests/test_thermostat_control.py::TestThermostatController::test_initialization PASSED [ 74%]
2026-01-03T22:06:45.5164779Z tests/test_thermostat_control.py::TestThermostatController::test_update_cycle_time_on PASSED [ 74%]
2026-01-03T22:06:45.5338016Z tests/test_thermostat_control.py::TestThermostatController::test_update_cycle_time_off PASSED [ 74%]
2026-01-03T22:06:45.5512988Z tests/test_thermostat_control.py::TestThermostatController::test_can_turn_off_without_prior_on_time PASSED [ 75%]
2026-01-03T22:06:45.5691995Z tests/test_thermostat_control.py::TestThermostatController::test_can_turn_off_after_min_on_time PASSED [ 75%]
2026-01-03T22:06:45.5879269Z tests/test_thermostat_control.py::TestThermostatController::test_can_turn_off_before_min_on_time PASSED [ 75%]
2026-01-03T22:06:45.6054114Z tests/test_thermostat_control.py::TestThermostatController::test_can_turn_on_without_prior_off_time PASSED [ 75%]
2026-01-03T22:06:45.6231170Z tests/test_thermostat_control.py::TestThermostatController::test_can_turn_on_after_min_off_time PASSED [ 76%]
2026-01-03T22:06:45.6406506Z tests/test_thermostat_control.py::TestThermostatController::test_can_turn_on_before_min_off_time PASSED [ 76%]
2026-01-03T22:06:45.6588954Z tests/test_thermostat_control.py::TestContactSensorPriority::test_evaluate_returns_none_when_paused PASSED [ 76%]
2026-01-03T22:06:45.6783535Z tests/test_thermostat_control.py::TestEdgeCases::test_no_rooms_configured_returns_none PASSED [ 76%]
2026-01-03T22:06:45.6966060Z tests/test_thermostat_control.py::TestEdgeCases::test_rooms_configured_but_none_active_turns_off PASSED [ 77%]
2026-01-03T22:06:45.7148458Z tests/test_thermostat_control.py::TestEdgeCases::test_no_active_rooms_already_off_returns_none PASSED [ 77%]
2026-01-03T22:06:45.7329492Z tests/test_thermostat_control.py::TestEdgeCases::test_room_with_no_temp_sensors_ignored PASSED [ 77%]
2026-01-03T22:06:45.7530641Z tests/test_thermostat_control.py::TestEdgeCases::test_unavailable_sensors_ignored PASSED [ 77%]
2026-01-03T22:06:45.7713463Z tests/test_thermostat_control.py::TestEdgeCases::test_thermostat_off_mode_returns_none PASSED [ 78%]
2026-01-03T22:06:45.7907300Z tests/test_thermostat_control.py::TestHVACModes::test_heat_mode_not_satiated PASSED [ 78%]
2026-01-03T22:06:45.8094966Z tests/test_thermostat_control.py::TestHVACModes::test_heat_mode_satiated PASSED [ 78%]
2026-01-03T22:06:45.8299721Z tests/test_thermostat_control.py::TestHVACModes::test_cool_mode_not_satiated PASSED [ 78%]
2026-01-03T22:06:45.8485157Z tests/test_thermostat_control.py::TestHVACModes::test_cool_mode_satiated PASSED [ 79%]
2026-01-03T22:06:45.8671833Z tests/test_thermostat_control.py::TestHVACModes::test_heat_cool_mode_uses_target_high_low PASSED [ 79%]
2026-01-03T22:06:45.8856960Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_heat_mode_critical PASSED [ 79%]
2026-01-03T22:06:45.9055622Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_heat_mode_not_critical PASSED [ 80%]
2026-01-03T22:06:45.9243879Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_cool_mode_critical PASSED [ 80%]
2026-01-03T22:06:45.9433523Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_cool_mode_not_critical PASSED [ 80%]
2026-01-03T22:06:45.9628283Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_heat_cool_mode_too_cold PASSED [ 80%]
2026-01-03T22:06:45.9820133Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_heat_cool_mode_too_hot PASSED [ 81%]
2026-01-03T22:06:46.0020066Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_no_sensors PASSED [ 81%]
2026-01-03T22:06:46.0217631Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_uses_warmest_sensor_for_heat PASSED [ 81%]
2026-01-03T22:06:46.0407346Z tests/test_thermostat_control.py::TestCriticalTemperatureLogic::test_evaluate_room_critical_uses_coolest_sensor_for_cool PASSED [ 81%]
2026-01-03T22:06:46.0603199Z tests/test_thermostat_control.py::TestEvaluateThermostatActionWithCriticalRooms::test_critical_room_keeps_thermostat_on PASSED [ 82%]
2026-01-03T22:06:46.0812775Z tests/test_thermostat_control.py::TestEvaluateThermostatActionWithCriticalRooms::test_critical_room_with_satiated_active_room PASSED [ 82%]
2026-01-03T22:06:46.1003593Z tests/test_thermostat_control.py::TestEvaluateThermostatActionWithCriticalRooms::test_no_critical_rooms_when_within_threshold PASSED [ 82%]
2026-01-03T22:06:46.1200030Z tests/test_thermostat_control.py::TestEvaluateThermostatActionWithCriticalRooms::test_critical_room_count_in_state PASSED [ 82%]
2026-01-03T22:06:46.1392418Z tests/test_thermostat_control.py::TestEvaluateThermostatActionWithCriticalRooms::test_room_states_include_critical_info PASSED [ 83%]
2026-01-03T22:06:46.1570929Z tests/test_thermostat_control.py::TestUnoccupiedThresholdConfiguration::test_default_thresholds PASSED [ 83%]
2026-01-03T22:06:46.1764397Z tests/test_thermostat_control.py::TestUnoccupiedThresholdConfiguration::test_custom_thresholds PASSED [ 83%]
2026-01-03T22:06:46.1941618Z tests/test_thermostat_control.py::TestUnoccupiedThresholdConfiguration::test_threshold_setter PASSED [ 84%]
2026-01-03T22:06:46.2127054Z tests/test_thermostat_control.py::TestUnoccupiedThresholdConfiguration::test_larger_threshold_changes_critical_detection PASSED [ 84%]
2026-01-03T22:06:46.2308595Z tests/test_thermostat_control.py::TestWeTurnedOffFlag::test_we_turned_off_initially_false PASSED [ 84%]
2026-01-03T22:06:46.2495719Z tests/test_thermostat_control.py::TestWeTurnedOffFlag::test_thermostat_off_treated_as_user_choice_when_flag_false PASSED [ 84%]
2026-01-03T22:06:46.2704137Z tests/test_thermostat_control.py::TestWeTurnedOffFlag::test_thermostat_off_continues_evaluation_when_we_turned_off PASSED [ 85%]
2026-01-03T22:06:46.2904165Z tests/test_thermostat_control.py::TestWeTurnedOffFlag::test_execute_turn_off_sets_flag PASSED [ 85%]
2026-01-03T22:06:46.3098350Z tests/test_thermostat_control.py::TestWeTurnedOffFlag::test_execute_turn_on_clears_flag PASSED [ 85%]
2026-01-03T22:06:46.3284248Z tests/test_thermostat_control.py::TestWeTurnedOffFlag::test_we_turned_off_in_diagnostics PASSED [ 85%]
2026-01-03T22:06:46.3468588Z tests/test_thermostat_control.py::TestThermostatControllerPersistence::test_controller_without_entry_id_has_no_store PASSED [ 86%]
2026-01-03T22:06:46.3636750Z tests/test_thermostat_control.py::TestThermostatControllerPersistence::test_controller_with_entry_id_has_store PASSED [ 86%]
2026-01-03T22:06:46.3823238Z tests/test_thermostat_control.py::TestThermostatControllerPersistence::test_async_setup_restores_state PASSED [ 86%]
2026-01-03T22:06:46.4013498Z tests/test_thermostat_control.py::TestThermostatControllerPersistence::test_async_shutdown_saves_state PASSED [ 86%]
2026-01-03T22:06:46.4193983Z tests/test_thermostat_control.py::TestThermostatControllerPersistence::test_async_setup_without_store_does_not_fail PASSED [ 87%]
2026-01-03T22:06:46.4384800Z tests/test_thermostat_control.py::TestThermostatControllerPersistence::test_async_shutdown_without_store_does_not_fail PASSED [ 87%]
2026-01-03T22:06:46.4568166Z tests/test_thermostat_control.py::TestStoredTargetTemperatures::test_stored_target_temps_initially_none PASSED [ 87%]
2026-01-03T22:06:46.4758610Z tests/test_thermostat_control.py::TestStoredTargetTemperatures::test_target_temps_stored_when_thermostat_on PASSED [ 88%]
2026-01-03T22:06:46.4952415Z tests/test_thermostat_control.py::TestStoredTargetTemperatures::test_stored_temps_used_when_off_and_we_turned_off PASSED [ 88%]
2026-01-03T22:06:46.5144238Z tests/test_thermostat_control.py::TestStoredTargetTemperatures::test_current_temps_used_when_off_but_user_turned_off PASSED [ 88%]
2026-01-03T22:06:46.5351810Z tests/test_thermostat_control.py::TestStoredTargetTemperatures::test_stored_temps_for_heat_cool_mode PASSED [ 88%]
2026-01-03T22:06:46.5546386Z tests/test_thermostat_control.py::TestStoredTargetTemperatures::test_evaluation_uses_stored_temps_when_off PASSED [ 89%]
2026-01-03T22:06:46.5731346Z tests/test_thermostat_control.py::TestStoredTargetTempsPersistence::test_stored_temps_are_saved PASSED [ 89%]
2026-01-03T22:06:46.5914269Z tests/test_thermostat_control.py::TestStoredTargetTempsPersistence::test_stored_temps_are_restored PASSED [ 89%]
2026-01-03T22:06:46.7079179Z tests/test_vent_control.py::TestVentControllerInit::test_default_values PASSED [ 89%]
2026-01-03T22:06:46.7249397Z tests/test_vent_control.py::TestVentControllerInit::test_custom_values PASSED [ 90%]
2026-01-03T22:06:46.7418911Z tests/test_vent_control.py::TestVentControllerInit::test_setters PASSED  [ 90%]
2026-01-03T22:06:46.7603409Z tests/test_vent_control.py::TestGroupDetection::test_single_vent_not_group PASSED [ 90%]
2026-01-03T22:06:46.7774879Z tests/test_vent_control.py::TestGroupDetection::test_group_detected PASSED [ 90%]
2026-01-03T22:06:46.7943819Z tests/test_vent_control.py::TestGroupDetection::test_none_state_returns_defaults PASSED [ 91%]
2026-01-03T22:06:46.8118197Z tests/test_vent_control.py::TestVentCurrentState::test_open_state PASSED [ 91%]
2026-01-03T22:06:46.8306493Z tests/test_vent_control.py::TestVentCurrentState::test_closed_state PASSED [ 91%]
2026-01-03T22:06:46.8481222Z tests/test_vent_control.py::TestVentCurrentState::test_tilt_position_open PASSED [ 92%]
2026-01-03T22:06:46.8653023Z tests/test_vent_control.py::TestVentCurrentState::test_tilt_position_closed PASSED [ 92%]
2026-01-03T22:06:46.8825808Z tests/test_vent_control.py::TestVentCurrentState::test_unavailable_state PASSED [ 92%]
2026-01-03T22:06:46.9021190Z tests/test_vent_control.py::TestVentCurrentState::test_none_state PASSED [ 92%]
2026-01-03T22:06:46.9190453Z tests/test_vent_control.py::TestDebounce::test_no_previous_command PASSED [ 93%]
2026-01-03T22:06:46.9363536Z tests/test_vent_control.py::TestDebounce::test_within_debounce_period PASSED [ 93%]
2026-01-03T22:06:46.9535529Z tests/test_vent_control.py::TestDebounce::test_after_debounce_period PASSED [ 93%]
2026-01-03T22:06:46.9714028Z tests/test_vent_control.py::TestEvaluateAreaVents::test_critical_room_vents_open PASSED [ 93%]
2026-01-03T22:06:46.9901447Z tests/test_vent_control.py::TestEvaluateAreaVents::test_active_unsatiated_vents_open PASSED [ 94%]
2026-01-03T22:06:47.0075516Z tests/test_vent_control.py::TestEvaluateAreaVents::test_active_satiated_but_occupied_past_delay_vents_open PASSED [ 94%]
2026-01-03T22:06:47.0258299Z tests/test_vent_control.py::TestEvaluateAreaVents::test_satiated_not_occupied_vents_closed PASSED [ 94%]
2026-01-03T22:06:47.0439548Z tests/test_vent_control.py::TestEvaluateAreaVents::test_occupied_past_delay_vents_open PASSED [ 94%]
2026-01-03T22:06:47.0632632Z tests/test_vent_control.py::TestEvaluateAreaVents::test_occupied_before_delay_vents_closed PASSED [ 95%]
2026-01-03T22:06:47.0809109Z tests/test_vent_control.py::TestEvaluateAreaVents::test_inactive_vents_closed PASSED [ 95%]
2026-01-03T22:06:47.0987736Z tests/test_vent_control.py::TestEvaluateAreaVents::test_per_area_vent_delay_override PASSED [ 95%]
2026-01-03T22:06:47.1165255Z tests/test_vent_control.py::TestEvaluateAreaVents::test_vent_group_member_count PASSED [ 96%]
2026-01-03T22:06:47.1389402Z tests/test_vent_control.py::TestMinimumVentsOpen::test_minimum_vents_kept_open PASSED [ 96%]
2026-01-03T22:06:47.1576738Z tests/test_vent_control.py::TestMinimumVentsOpen::test_group_counts_as_multiple_vents PASSED [ 96%]
2026-01-03T22:06:47.1758575Z tests/test_vent_control.py::TestEvaluateAllVents::test_pending_commands_generated PASSED [ 96%]
2026-01-03T22:06:47.1951548Z tests/test_vent_control.py::TestEvaluateAllVents::test_no_commands_when_state_matches PASSED [ 97%]
2026-01-03T22:06:47.2153241Z tests/test_vent_control.py::TestExecuteVentCommands::test_open_command_executed PASSED [ 97%]
2026-01-03T22:06:47.2352790Z tests/test_vent_control.py::TestExecuteVentCommands::test_close_command_executed PASSED [ 97%]
2026-01-03T22:06:47.2542862Z tests/test_vent_control.py::TestExecuteVentCommands::test_multiple_commands_executed PASSED [ 97%]
2026-01-03T22:06:47.2742374Z tests/test_vent_control.py::TestExecuteVentCommands::test_command_error_handled PASSED [ 98%]
2026-01-03T22:06:47.2914582Z tests/test_vent_control.py::TestGetSummary::test_summary_structure PASSED [ 98%]
2026-01-03T22:06:47.3095377Z tests/test_vent_control.py::TestDistanceFromTarget::test_distance_from_target_uses_target_temperature PASSED [ 98%]
2026-01-03T22:06:47.3276504Z tests/test_vent_control.py::TestDistanceFromTarget::test_distance_from_target_zero_when_satiated PASSED [ 98%]
2026-01-03T22:06:47.3470067Z tests/test_vent_control.py::TestDistanceFromTarget::test_distance_from_target_zero_when_no_target PASSED [ 99%]
2026-01-03T22:06:47.3652514Z tests/test_vent_control.py::TestDistanceFromTarget::test_distance_priority_for_minimum_vents PASSED [ 99%]
2026-01-03T22:06:47.3837165Z tests/test_vent_control.py::TestDistanceFromTarget::test_heat_mode_prioritizes_coldest_rooms PASSED [ 99%]
2026-01-03T22:06:47.6927542Z tests/test_vent_control.py::TestDistanceFromTarget::test_cool_mode_prioritizes_hottest_rooms PASSED [100%]
2026-01-03T22:06:47.6928241Z 
2026-01-03T22:06:47.6928356Z ==================================== ERRORS ====================================
2026-01-03T22:06:47.6928781Z _ ERROR at setup of TestRespectUserOffSwitch.test_switch_default_state_is_off __
2026-01-03T22:06:47.6929199Z tests/test_switch.py:43: in config_entry
2026-01-03T22:06:47.6929456Z     CONF_BINARY_SENSORS: [],
2026-01-03T22:06:47.6929935Z E   NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.6930376Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6931030Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6931516Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6932003Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6932420Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6933261Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6934209Z ________ ERROR at setup of TestRespectUserOffSwitch.test_switch_turn_on ________
2026-01-03T22:06:47.6934769Z tests/test_switch.py:43: in config_entry
2026-01-03T22:06:47.6935023Z     CONF_BINARY_SENSORS: [],
2026-01-03T22:06:47.6935292Z E   NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.6935652Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6936338Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6937076Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6937571Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6937984Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6938538Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6939510Z _______ ERROR at setup of TestRespectUserOffSwitch.test_switch_turn_off ________
2026-01-03T22:06:47.6940101Z tests/test_switch.py:43: in config_entry
2026-01-03T22:06:47.6940538Z     CONF_BINARY_SENSORS: [],
2026-01-03T22:06:47.6941013Z E   NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.6941399Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6941716Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6942093Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6942527Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6943141Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6943902Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6944528Z _ ERROR at setup of TestRespectUserOffBehavior.test_thermostat_off_resumes_when_respect_off_disabled _
2026-01-03T22:06:47.6945061Z tests/test_switch.py:43: in config_entry
2026-01-03T22:06:47.6945469Z     CONF_BINARY_SENSORS: [],
2026-01-03T22:06:47.6945825Z E   NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.6946510Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6946836Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6947216Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6947657Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6948103Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6948920Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6949544Z _ ERROR at setup of TestRespectUserOffBehavior.test_thermostat_stays_off_when_respect_off_enabled _
2026-01-03T22:06:47.6949965Z tests/test_switch.py:43: in config_entry
2026-01-03T22:06:47.6950255Z     CONF_BINARY_SENSORS: [],
2026-01-03T22:06:47.6950726Z E   NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.6951303Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6951907Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6952298Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6952732Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6953131Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6953968Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6954565Z _ ERROR at setup of TestRespectUserOffBehavior.test_active_thermostat_always_resumes _
2026-01-03T22:06:47.6954953Z tests/test_switch.py:43: in config_entry
2026-01-03T22:06:47.6955189Z     CONF_BINARY_SENSORS: [],
2026-01-03T22:06:47.6955428Z E   NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.6955897Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6956427Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6956812Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6957246Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6957633Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6958456Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6959029Z _ ERROR at setup of TestRespectUserOffBehavior.test_switch_extra_state_attributes _
2026-01-03T22:06:47.6959407Z tests/test_switch.py:43: in config_entry
2026-01-03T22:06:47.6959643Z     CONF_BINARY_SENSORS: [],
2026-01-03T22:06:47.6959899Z E   NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.6960354Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6960668Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6961054Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6961481Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6961848Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6962352Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6962799Z =================================== FAILURES ===================================
2026-01-03T22:06:47.6963140Z ________________________ test_options_flow_area_config _________________________
2026-01-03T22:06:47.6963725Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:362: in _async_configure
2026-01-03T22:06:47.6964261Z     user_input = data_schema(user_input)
2026-01-03T22:06:47.6964732Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:205: in __call__
2026-01-03T22:06:47.6965208Z     return self._compiled([], data)
2026-01-03T22:06:47.6965685Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:549: in validate_dict
2026-01-03T22:06:47.6966313Z     return base_validate(path, data.items(), out)
2026-01-03T22:06:47.6966855Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:382: in validate_mapping
2026-01-03T22:06:47.6967364Z     raise er.MultipleInvalid(errors)
2026-01-03T22:06:47.6967728Z E   voluptuous.error.MultipleInvalid: extra keys not allowed @ data['binary_sensors']
2026-01-03T22:06:47.6968031Z 
2026-01-03T22:06:47.6968192Z The above exception was the direct cause of the following exception:
2026-01-03T22:06:47.6968573Z tests/test_options_flow.py:281: in test_options_flow_area_config
2026-01-03T22:06:47.6968946Z     result = await hass.config_entries.options.async_configure(
2026-01-03T22:06:47.6969806Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:341: in async_configure
2026-01-03T22:06:47.6970422Z     result = await self._async_configure(flow_id, user_input)
2026-01-03T22:06:47.6971005Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:375: in _async_configure
2026-01-03T22:06:47.6971514Z     raise InvalidData(
2026-01-03T22:06:47.6971882Z E   homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.6972348Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.6972674Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.6973063Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.6974370Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.235177-08:00>>
2026-01-03T22:06:47.6976483Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.235360-08:00>>
2026-01-03T22:06:47.6978003Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.235492-08:00>>
2026-01-03T22:06:47.6979535Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.235610-08:00>>
2026-01-03T22:06:47.6981062Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.235779-08:00>>
2026-01-03T22:06:47.6982522Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.235895-08:00>>
2026-01-03T22:06:47.6983551Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.6984155Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.6984833Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.6985588Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.6986548Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.6987376Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.6988126Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.6988963Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.6989904Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.6990659Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.6991498Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.6992279Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.6992994Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.6993812Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.6994690Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.6995389Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.6996305Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.6997047Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.6997547Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.6997927Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.6998443Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.6999827Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.235177-08:00>>
2026-01-03T22:06:47.7001670Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.235360-08:00>>
2026-01-03T22:06:47.7003239Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.235492-08:00>>
2026-01-03T22:06:47.7004838Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.235610-08:00>>
2026-01-03T22:06:47.7006521Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.235779-08:00>>
2026-01-03T22:06:47.7008046Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.235895-08:00>>
2026-01-03T22:06:47.7009134Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.7009809Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.7010727Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.7011596Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.7012490Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7013400Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.7014267Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.7015265Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7016320Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.7017177Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.7018067Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7018944Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.7019780Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.7020662Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.7021527Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.7022316Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.7023162Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.7023961Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.7024484Z ----------------------------- Captured stderr call -----------------------------
2026-01-03T22:06:47.7025013Z INFO:homeassistant.loader:Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.7026078Z WARNING:homeassistant.loader:We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.7027232Z DEBUG:homeassistant.loader:Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7027773Z INFO:homeassistant.setup:Setting up thermostat_contact_sensors
2026-01-03T22:06:47.7028323Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.7029057Z DEBUG:custom_components.thermostat_contact_sensors:Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7030167Z DEBUG:custom_components.thermostat_contact_sensors:Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.7031143Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.7031788Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:No stored occupancy state found
2026-01-03T22:06:47.7032652Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7033785Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7034750Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.7035607Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:No stored thermostat controller state found
2026-01-03T22:06:47.7036531Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.7037335Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Contact sensor pause state: False
2026-01-03T22:06:47.7038220Z INFO:custom_components.thermostat_contact_sensors.thermostat_control:Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.7039262Z DEBUG:homeassistant.core:Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.7041395Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.235177-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.248803-08:00>>
2026-01-03T22:06:47.7043356Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat action executed: turn_off
2026-01-03T22:06:47.7044096Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.7044797Z INFO:homeassistant.loader:Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.7045320Z INFO:homeassistant.loader:Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.7045788Z INFO:homeassistant.loader:Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.7046553Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.7047294Z DEBUG:homeassistant.loader:Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7047747Z INFO:homeassistant.setup:Setting up binary_sensor
2026-01-03T22:06:47.7048169Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.7048727Z INFO:homeassistant.components.binary_sensor:Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.7049407Z DEBUG:homeassistant.core:Bus:Handling <Event device_registry_updated[L]: action=create, device_id=ab51fd51943f7fed5df1db41768d3390>
2026-01-03T22:06:47.7050315Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.7051436Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.7053249Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.260875-08:00>>
2026-01-03T22:06:47.7054860Z DEBUG:homeassistant.loader:Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7055277Z INFO:homeassistant.setup:Setting up sensor
2026-01-03T22:06:47.7055754Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.7056409Z INFO:homeassistant.components.sensor:Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.7057141Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.7058053Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.7060190Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.264292-08:00>>
2026-01-03T22:06:47.7062378Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.7063318Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.7066712Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.264971-08:00>>
2026-01-03T22:06:47.7070034Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.7070999Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.7073707Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.265653-08:00>>
2026-01-03T22:06:47.7076399Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.7077377Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.7081124Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.266286-08:00>>
2026-01-03T22:06:47.7084080Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.7085041Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.7087642Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.266936-08:00>>
2026-01-03T22:06:47.7089972Z DEBUG:homeassistant.loader:Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7090396Z INFO:homeassistant.setup:Setting up switch
2026-01-03T22:06:47.7090829Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.7091427Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.7092004Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.7092536Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.7093032Z INFO:homeassistant.components.switch:Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.7093769Z INFO:homeassistant.helpers.entity_registry:Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.7094702Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.7096715Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.270504-08:00>>
2026-01-03T22:06:47.7098424Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.7099116Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.7099815Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.7100673Z INFO:custom_components.thermostat_contact_sensors:Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7101370Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.7101857Z ------------------------------ Captured log call -------------------------------
2026-01-03T22:06:47.7102416Z INFO     homeassistant.loader:loader.py:774 Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.7103541Z WARNING  homeassistant.loader:loader.py:688 We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.7104683Z DEBUG    homeassistant.loader:loader.py:1005 Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7105308Z INFO     homeassistant.setup:setup.py:384 Setting up thermostat_contact_sensors
2026-01-03T22:06:47.7105952Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.7106867Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:138 Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7107930Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:157 Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.7108990Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:413 Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.7109739Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:509 No stored occupancy state found
2026-01-03T22:06:47.7110718Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7111954Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7113021Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:455 Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.7113906Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1239 No stored thermostat controller state found
2026-01-03T22:06:47.7114858Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:393 Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.7115910Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:452 Contact sensor pause state: False
2026-01-03T22:06:47.7117096Z INFO     custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1166 Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.7118260Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.7120501Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.235177-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.248803-08:00>>
2026-01-03T22:06:47.7122680Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:303 Thermostat action executed: turn_off
2026-01-03T22:06:47.7123522Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.7124308Z INFO     homeassistant.loader:loader.py:774 Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.7124902Z INFO     homeassistant.loader:loader.py:774 Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.7125441Z INFO     homeassistant.loader:loader.py:774 Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.7126313Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:597 Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.7127156Z DEBUG    homeassistant.loader:loader.py:1005 Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7127692Z INFO     homeassistant.setup:setup.py:384 Setting up binary_sensor
2026-01-03T22:06:47.7128183Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.7128842Z INFO     homeassistant.components.binary_sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.7129621Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event device_registry_updated[L]: action=create, device_id=ab51fd51943f7fed5df1db41768d3390>
2026-01-03T22:06:47.7130629Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.7131729Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.7133600Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.260875-08:00>>
2026-01-03T22:06:47.7135293Z DEBUG    homeassistant.loader:loader.py:1005 Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7135786Z INFO     homeassistant.setup:setup.py:384 Setting up sensor
2026-01-03T22:06:47.7136332Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.7137056Z INFO     homeassistant.components.sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.7137916Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.7138925Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.7141144Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.264292-08:00>>
2026-01-03T22:06:47.7143522Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.7144566Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.7148043Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.264971-08:00>>
2026-01-03T22:06:47.7151482Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.7152547Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.7155182Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.265653-08:00>>
2026-01-03T22:06:47.7157969Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.7159159Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.7162680Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.266286-08:00>>
2026-01-03T22:06:47.7165806Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.7166952Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.7169512Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.266936-08:00>>
2026-01-03T22:06:47.7171902Z DEBUG    homeassistant.loader:loader.py:1005 Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7172400Z INFO     homeassistant.setup:setup.py:384 Setting up switch
2026-01-03T22:06:47.7172899Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.7173543Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.7174182Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.7174782Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.7175394Z INFO     homeassistant.components.switch:entity_platform.py:351 Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.7176356Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.7177382Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.7179255Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.270504-08:00>>
2026-01-03T22:06:47.7181122Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.7181870Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.7182637Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.7183447Z INFO     custom_components.thermostat_contact_sensors:__init__.py:184 Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7184197Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.7184728Z --------------------------- Captured stderr teardown ---------------------------
2026-01-03T22:06:47.7185405Z DEBUG:custom_components.thermostat_contact_sensors:Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7187076Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.381132+00:00'}}
2026-01-03T22:06:47.7188827Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7191009Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.381826+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7192905Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.7193467Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.7195747Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.260875-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.383662-08:00>>
2026-01-03T22:06:47.7200340Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.264292-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.384512-08:00>>
2026-01-03T22:06:47.7206260Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.264971-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.385073-08:00>>
2026-01-03T22:06:47.7212642Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.265653-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.385674-08:00>>
2026-01-03T22:06:47.7219281Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.266286-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.386204-08:00>>
2026-01-03T22:06:47.7225389Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.266936-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.386766-08:00>>
2026-01-03T22:06:47.7230020Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.270504-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.387685-08:00>>
2026-01-03T22:06:47.7233260Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.388459+00:00'}}
2026-01-03T22:06:47.7234995Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7237262Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.388812+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7239137Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.7239700Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.7240173Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.7240599Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.7241631Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb330149cd0>>}
2026-01-03T22:06:47.7243279Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb330149c70>>}
2026-01-03T22:06:47.7244948Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb3301490d0>>}
2026-01-03T22:06:47.7245992Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.7246534Z DEBUG:asyncio:Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.7246923Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.7247347Z ---------------------------- Captured log teardown -----------------------------
2026-01-03T22:06:47.7247951Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:248 Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7249601Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.381132+00:00'}}
2026-01-03T22:06:47.7251459Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7253838Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.381826+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7255803Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.7256571Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.7258928Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.260875-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.383662-08:00>>
2026-01-03T22:06:47.7263369Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.264292-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.384512-08:00>>
2026-01-03T22:06:47.7269417Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.264971-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.385073-08:00>>
2026-01-03T22:06:47.7275709Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.265653-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.385674-08:00>>
2026-01-03T22:06:47.7282523Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.266286-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.386204-08:00>>
2026-01-03T22:06:47.7288650Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.266936-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.386766-08:00>>
2026-01-03T22:06:47.7293353Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.270504-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.387685-08:00>>
2026-01-03T22:06:47.7296624Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.388459+00:00'}}
2026-01-03T22:06:47.7298497Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7300894Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.388812+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7302891Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.7303563Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.7304131Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.7304625Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.7305725Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb330149cd0>>}
2026-01-03T22:06:47.7307561Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb330149c70>>}
2026-01-03T22:06:47.7309315Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb3301490d0>>}
2026-01-03T22:06:47.7310508Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.7311047Z DEBUG    asyncio:base_events.py:714 Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.7311540Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.7311913Z ________________________ test_options_flow_disable_area ________________________
2026-01-03T22:06:47.7312505Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:362: in _async_configure
2026-01-03T22:06:47.7313032Z     user_input = data_schema(user_input)
2026-01-03T22:06:47.7313510Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:205: in __call__
2026-01-03T22:06:47.7314109Z     return self._compiled([], data)
2026-01-03T22:06:47.7314587Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:549: in validate_dict
2026-01-03T22:06:47.7315105Z     return base_validate(path, data.items(), out)
2026-01-03T22:06:47.7315622Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:382: in validate_mapping
2026-01-03T22:06:47.7316247Z     raise er.MultipleInvalid(errors)
2026-01-03T22:06:47.7316616Z E   voluptuous.error.MultipleInvalid: extra keys not allowed @ data['binary_sensors']
2026-01-03T22:06:47.7316927Z 
2026-01-03T22:06:47.7317084Z The above exception was the direct cause of the following exception:
2026-01-03T22:06:47.7317475Z tests/test_options_flow.py:327: in test_options_flow_disable_area
2026-01-03T22:06:47.7317957Z     result = await hass.config_entries.options.async_configure(
2026-01-03T22:06:47.7318542Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:341: in async_configure
2026-01-03T22:06:47.7319110Z     result = await self._async_configure(flow_id, user_input)
2026-01-03T22:06:47.7319710Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:375: in _async_configure
2026-01-03T22:06:47.7320230Z     raise InvalidData(
2026-01-03T22:06:47.7320584Z E   homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.7321058Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.7321380Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.7321769Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.7323081Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.408306-08:00>>
2026-01-03T22:06:47.7324861Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.408481-08:00>>
2026-01-03T22:06:47.7326475Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.408633-08:00>>
2026-01-03T22:06:47.7328028Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.408761-08:00>>
2026-01-03T22:06:47.7329567Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.408876-08:00>>
2026-01-03T22:06:47.7331035Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.408987-08:00>>
2026-01-03T22:06:47.7332074Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.7332684Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.7333464Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.7334229Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.7335068Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7335897Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.7336753Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.7337592Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7338526Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.7339284Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.7340117Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7340904Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.7341618Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.7342437Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.7343216Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.7343908Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.7344701Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.7345439Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.7345937Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.7346416Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.7346926Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.7348323Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.408306-08:00>>
2026-01-03T22:06:47.7350175Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.408481-08:00>>
2026-01-03T22:06:47.7351756Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.408633-08:00>>
2026-01-03T22:06:47.7353483Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.408761-08:00>>
2026-01-03T22:06:47.7355083Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.408876-08:00>>
2026-01-03T22:06:47.7356737Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.408987-08:00>>
2026-01-03T22:06:47.7357837Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.7358629Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.7359402Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.7360255Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.7361160Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7362082Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.7362937Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.7363856Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7364777Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.7365636Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.7366636Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7367530Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.7368344Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.7369236Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.7370098Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.7370889Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.7371747Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.7372547Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.7373077Z ----------------------------- Captured stderr call -----------------------------
2026-01-03T22:06:47.7373711Z INFO:homeassistant.loader:Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.7374779Z WARNING:homeassistant.loader:We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.7375845Z DEBUG:homeassistant.loader:Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7376480Z INFO:homeassistant.setup:Setting up thermostat_contact_sensors
2026-01-03T22:06:47.7377041Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.7377776Z DEBUG:custom_components.thermostat_contact_sensors:Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7378883Z DEBUG:custom_components.thermostat_contact_sensors:Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.7379869Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.7380514Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:No stored occupancy state found
2026-01-03T22:06:47.7381382Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7382530Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7383494Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.7384256Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:No stored thermostat controller state found
2026-01-03T22:06:47.7385076Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.7385861Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Contact sensor pause state: False
2026-01-03T22:06:47.7386874Z INFO:custom_components.thermostat_contact_sensors.thermostat_control:Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.7387921Z DEBUG:homeassistant.core:Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.7390072Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.408306-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.422639-08:00>>
2026-01-03T22:06:47.7392046Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat action executed: turn_off
2026-01-03T22:06:47.7392797Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.7393503Z INFO:homeassistant.loader:Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.7394031Z INFO:homeassistant.loader:Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.7394613Z INFO:homeassistant.loader:Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.7395291Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.7396029Z DEBUG:homeassistant.loader:Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7396600Z INFO:homeassistant.setup:Setting up binary_sensor
2026-01-03T22:06:47.7397016Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.7397575Z INFO:homeassistant.components.binary_sensor:Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.7398258Z DEBUG:homeassistant.core:Bus:Handling <Event device_registry_updated[L]: action=create, device_id=d008334cf18cba535ef697ba2c2ff39d>
2026-01-03T22:06:47.7399171Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.7400339Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.7402158Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.434363-08:00>>
2026-01-03T22:06:47.7403772Z DEBUG:homeassistant.loader:Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7404190Z INFO:homeassistant.setup:Setting up sensor
2026-01-03T22:06:47.7404576Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.7405088Z INFO:homeassistant.components.sensor:Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.7405816Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.7406832Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.7409114Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.437789-08:00>>
2026-01-03T22:06:47.7411372Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.7412422Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.7416113Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.438438-08:00>>
2026-01-03T22:06:47.7419773Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.7420918Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.7423665Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.439127-08:00>>
2026-01-03T22:06:47.7426577Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.7427707Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.7431263Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.439769-08:00>>
2026-01-03T22:06:47.7487506Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.7489053Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.7493224Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.440394-08:00>>
2026-01-03T22:06:47.7497104Z DEBUG:homeassistant.loader:Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7497564Z INFO:homeassistant.setup:Setting up switch
2026-01-03T22:06:47.7498259Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.7498863Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.7499441Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.7499965Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.7500473Z INFO:homeassistant.components.switch:Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.7501217Z INFO:homeassistant.helpers.entity_registry:Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.7502153Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.7504083Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.443992-08:00>>
2026-01-03T22:06:47.7505778Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.7506687Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.7507396Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.7508148Z INFO:custom_components.thermostat_contact_sensors:Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7508842Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.7509343Z ------------------------------ Captured log call -------------------------------
2026-01-03T22:06:47.7509916Z INFO     homeassistant.loader:loader.py:774 Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.7511056Z WARNING  homeassistant.loader:loader.py:688 We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.7512199Z DEBUG    homeassistant.loader:loader.py:1005 Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7512836Z INFO     homeassistant.setup:setup.py:384 Setting up thermostat_contact_sensors
2026-01-03T22:06:47.7513489Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.7514309Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:138 Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7515369Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:157 Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.7516748Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:413 Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.7517503Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:509 No stored occupancy state found
2026-01-03T22:06:47.7518608Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7519883Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7520937Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:455 Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.7521814Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1239 No stored thermostat controller state found
2026-01-03T22:06:47.7522768Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:393 Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.7523809Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:452 Contact sensor pause state: False
2026-01-03T22:06:47.7524876Z INFO     custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1166 Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.7526050Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.7528770Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.408306-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.422639-08:00>>
2026-01-03T22:06:47.7530843Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:303 Thermostat action executed: turn_off
2026-01-03T22:06:47.7531687Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.7532474Z INFO     homeassistant.loader:loader.py:774 Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.7533075Z INFO     homeassistant.loader:loader.py:774 Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.7533622Z INFO     homeassistant.loader:loader.py:774 Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.7534392Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:597 Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.7535231Z DEBUG    homeassistant.loader:loader.py:1005 Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7535766Z INFO     homeassistant.setup:setup.py:384 Setting up binary_sensor
2026-01-03T22:06:47.7536428Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.7537103Z INFO     homeassistant.components.binary_sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.7537881Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event device_registry_updated[L]: action=create, device_id=d008334cf18cba535ef697ba2c2ff39d>
2026-01-03T22:06:47.7538897Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.7540137Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.7542014Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.434363-08:00>>
2026-01-03T22:06:47.7543695Z DEBUG    homeassistant.loader:loader.py:1005 Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7544201Z INFO     homeassistant.setup:setup.py:384 Setting up sensor
2026-01-03T22:06:47.7544755Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.7545372Z INFO     homeassistant.components.sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.7546464Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.7547482Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.7549691Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.437789-08:00>>
2026-01-03T22:06:47.7551973Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.7553020Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.7556498Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.438438-08:00>>
2026-01-03T22:06:47.7559904Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.7560965Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.7563687Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.439127-08:00>>
2026-01-03T22:06:47.7566463Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.7567653Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.7571324Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.439769-08:00>>
2026-01-03T22:06:47.7574365Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.7575404Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.7578052Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.440394-08:00>>
2026-01-03T22:06:47.7580429Z DEBUG    homeassistant.loader:loader.py:1005 Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7580923Z INFO     homeassistant.setup:setup.py:384 Setting up switch
2026-01-03T22:06:47.7581426Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.7582076Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.7582719Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.7583315Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.7584039Z INFO     homeassistant.components.switch:entity_platform.py:351 Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.7584921Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.7585950Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.7587949Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.443992-08:00>>
2026-01-03T22:06:47.7589819Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.7590571Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.7591332Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.7592148Z INFO     custom_components.thermostat_contact_sensors:__init__.py:184 Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7592901Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.7593437Z --------------------------- Captured stderr teardown ---------------------------
2026-01-03T22:06:47.7594015Z DEBUG:custom_components.thermostat_contact_sensors:Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7595584Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.541290+00:00'}}
2026-01-03T22:06:47.7597445Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7599617Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.541781+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7601505Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.7602062Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.7604438Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.434363-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.543168-08:00>>
2026-01-03T22:06:47.7608928Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.437789-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.544045-08:00>>
2026-01-03T22:06:47.7614834Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.438438-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.544589-08:00>>
2026-01-03T22:06:47.7621210Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.439127-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.545196-08:00>>
2026-01-03T22:06:47.7627936Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.439769-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.545753-08:00>>
2026-01-03T22:06:47.7633921Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.440394-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.546312-08:00>>
2026-01-03T22:06:47.7638797Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.443992-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.547249-08:00>>
2026-01-03T22:06:47.7641909Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.548052+00:00'}}
2026-01-03T22:06:47.7643650Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7645808Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.548397+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7647777Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.7648345Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.7648824Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.7649251Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.7650285Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb32d742ff0>>}
2026-01-03T22:06:47.7652047Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb32d742390>>}
2026-01-03T22:06:47.7653733Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb32d740dd0>>}
2026-01-03T22:06:47.7654784Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.7655234Z DEBUG:asyncio:Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.7655769Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.7656094Z ---------------------------- Captured log teardown -----------------------------
2026-01-03T22:06:47.7656796Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:248 Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7658447Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.541290+00:00'}}
2026-01-03T22:06:47.7660312Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7662597Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.541781+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7664578Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.7665254Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.7667693Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.434363-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.543168-08:00>>
2026-01-03T22:06:47.7672250Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.437789-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.544045-08:00>>
2026-01-03T22:06:47.7678236Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.438438-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.544589-08:00>>
2026-01-03T22:06:47.7684657Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.439127-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.545196-08:00>>
2026-01-03T22:06:47.7691328Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.439769-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.545753-08:00>>
2026-01-03T22:06:47.7697549Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.440394-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.546312-08:00>>
2026-01-03T22:06:47.7702129Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.443992-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.547249-08:00>>
2026-01-03T22:06:47.7705378Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.548052+00:00'}}
2026-01-03T22:06:47.7707347Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7709642Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.548397+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7711628Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.7712310Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.7712873Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.7713366Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.7714462Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb32d742ff0>>}
2026-01-03T22:06:47.7716281Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb32d742390>>}
2026-01-03T22:06:47.7718149Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb32d740dd0>>}
2026-01-03T22:06:47.7719272Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.7719832Z DEBUG    asyncio:base_events.py:714 Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.7720325Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.7720724Z _____________ test_options_flow_sensor_count_updates_after_adding ______________
2026-01-03T22:06:47.7721340Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:362: in _async_configure
2026-01-03T22:06:47.7721879Z     user_input = data_schema(user_input)
2026-01-03T22:06:47.7722465Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:205: in __call__
2026-01-03T22:06:47.7722952Z     return self._compiled([], data)
2026-01-03T22:06:47.7723430Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:549: in validate_dict
2026-01-03T22:06:47.7723952Z     return base_validate(path, data.items(), out)
2026-01-03T22:06:47.7724478Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:382: in validate_mapping
2026-01-03T22:06:47.7724979Z     raise er.MultipleInvalid(errors)
2026-01-03T22:06:47.7725355Z E   voluptuous.error.MultipleInvalid: extra keys not allowed @ data['binary_sensors']
2026-01-03T22:06:47.7725662Z 
2026-01-03T22:06:47.7725823Z The above exception was the direct cause of the following exception:
2026-01-03T22:06:47.7726364Z tests/test_options_flow.py:411: in test_options_flow_sensor_count_updates_after_adding
2026-01-03T22:06:47.7726791Z     result = await hass.config_entries.options.async_configure(
2026-01-03T22:06:47.7727376Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:341: in async_configure
2026-01-03T22:06:47.7727941Z     result = await self._async_configure(flow_id, user_input)
2026-01-03T22:06:47.7728502Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:375: in _async_configure
2026-01-03T22:06:47.7729011Z     raise InvalidData(
2026-01-03T22:06:47.7729374Z E   homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.7729848Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.7730174Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.7730561Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.7731858Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.636727-08:00>>
2026-01-03T22:06:47.7733637Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.636916-08:00>>
2026-01-03T22:06:47.7735151Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.637052-08:00>>
2026-01-03T22:06:47.7736889Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.637176-08:00>>
2026-01-03T22:06:47.7738430Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.637297-08:00>>
2026-01-03T22:06:47.7739903Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.637412-08:00>>
2026-01-03T22:06:47.7740932Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.7741544Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.7742352Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.7743112Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.7743955Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7744772Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.7745797Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.7746789Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7747616Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.7748374Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.7749215Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7749994Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.7750711Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.7751523Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.7752299Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.7752997Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.7753785Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.7754525Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.7755023Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.7755408Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.7755924Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.7757543Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.636727-08:00>>
2026-01-03T22:06:47.7759391Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.636916-08:00>>
2026-01-03T22:06:47.7760968Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.637052-08:00>>
2026-01-03T22:06:47.7762582Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.637176-08:00>>
2026-01-03T22:06:47.7764283Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.637297-08:00>>
2026-01-03T22:06:47.7765812Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.637412-08:00>>
2026-01-03T22:06:47.7767007Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.7767679Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.7768446Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.7769297Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.7770187Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7771106Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.7771957Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.7772855Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7773775Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.7774626Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.7775520Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.7776492Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.7777298Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.7778297Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.7779167Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.7779952Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.7780805Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.7781609Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.7782235Z ----------------------------- Captured stderr call -----------------------------
2026-01-03T22:06:47.7782767Z INFO:homeassistant.loader:Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.7783824Z WARNING:homeassistant.loader:We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.7784883Z DEBUG:homeassistant.loader:Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7785425Z INFO:homeassistant.setup:Setting up thermostat_contact_sensors
2026-01-03T22:06:47.7785978Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.7786829Z DEBUG:custom_components.thermostat_contact_sensors:Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7787826Z DEBUG:custom_components.thermostat_contact_sensors:Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.7788799Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.7789446Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:No stored occupancy state found
2026-01-03T22:06:47.7790304Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7791445Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7792426Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.7793182Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:No stored thermostat controller state found
2026-01-03T22:06:47.7794000Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.7794789Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Contact sensor pause state: False
2026-01-03T22:06:47.7795684Z INFO:custom_components.thermostat_contact_sensors.thermostat_control:Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.7796849Z DEBUG:homeassistant.core:Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.7799093Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.636727-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.650184-08:00>>
2026-01-03T22:06:47.7801048Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat action executed: turn_off
2026-01-03T22:06:47.7801790Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.7802499Z INFO:homeassistant.loader:Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.7803116Z INFO:homeassistant.loader:Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.7803592Z INFO:homeassistant.loader:Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.7804261Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.7804997Z DEBUG:homeassistant.loader:Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7805454Z INFO:homeassistant.setup:Setting up binary_sensor
2026-01-03T22:06:47.7805864Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.7806529Z INFO:homeassistant.components.binary_sensor:Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.7807207Z DEBUG:homeassistant.core:Bus:Handling <Event device_registry_updated[L]: action=create, device_id=532a30acafad41699fe94da36447b279>
2026-01-03T22:06:47.7808115Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.7809121Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.7810926Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.662037-08:00>>
2026-01-03T22:06:47.7812548Z DEBUG:homeassistant.loader:Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7812972Z INFO:homeassistant.setup:Setting up sensor
2026-01-03T22:06:47.7813346Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.7813852Z INFO:homeassistant.components.sensor:Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.7814579Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.7815480Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.7817862Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.665497-08:00>>
2026-01-03T22:06:47.7820080Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.7821023Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.7824344Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.666187-08:00>>
2026-01-03T22:06:47.7827842Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.7828824Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.7831382Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.666911-08:00>>
2026-01-03T22:06:47.7833947Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.7834914Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.7838470Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.667566-08:00>>
2026-01-03T22:06:47.7841394Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.7842473Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.7844960Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.668436-08:00>>
2026-01-03T22:06:47.7847495Z DEBUG:homeassistant.loader:Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7847927Z INFO:homeassistant.setup:Setting up switch
2026-01-03T22:06:47.7848352Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.7848938Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.7849523Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.7850049Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.7850554Z INFO:homeassistant.components.switch:Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.7851296Z INFO:homeassistant.helpers.entity_registry:Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.7852226Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.7854047Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.672106-08:00>>
2026-01-03T22:06:47.7855729Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.7856504Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.7857211Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.7857966Z INFO:custom_components.thermostat_contact_sensors:Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7858648Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.7859146Z ------------------------------ Captured log call -------------------------------
2026-01-03T22:06:47.7859704Z INFO     homeassistant.loader:loader.py:774 Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.7860835Z WARNING  homeassistant.loader:loader.py:688 We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.7861977Z DEBUG    homeassistant.loader:loader.py:1005 Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7862592Z INFO     homeassistant.setup:setup.py:384 Setting up thermostat_contact_sensors
2026-01-03T22:06:47.7863352Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.7864173Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:138 Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7865230Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:157 Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.7866411Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:413 Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.7867160Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:509 No stored occupancy state found
2026-01-03T22:06:47.7868244Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7869753Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.7870817Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:455 Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.7871707Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1239 No stored thermostat controller state found
2026-01-03T22:06:47.7872672Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:393 Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.7873610Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:452 Contact sensor pause state: False
2026-01-03T22:06:47.7874675Z INFO     custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1166 Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.7875838Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.7878161Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.636727-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.650184-08:00>>
2026-01-03T22:06:47.7880218Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:303 Thermostat action executed: turn_off
2026-01-03T22:06:47.7881060Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.7881847Z INFO     homeassistant.loader:loader.py:774 Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.7882447Z INFO     homeassistant.loader:loader.py:774 Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.7882988Z INFO     homeassistant.loader:loader.py:774 Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.7883886Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:597 Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.7884733Z DEBUG    homeassistant.loader:loader.py:1005 Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7885274Z INFO     homeassistant.setup:setup.py:384 Setting up binary_sensor
2026-01-03T22:06:47.7885762Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.7886525Z INFO     homeassistant.components.binary_sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.7887298Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event device_registry_updated[L]: action=create, device_id=532a30acafad41699fe94da36447b279>
2026-01-03T22:06:47.7888309Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.7889528Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.7891409Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.662037-08:00>>
2026-01-03T22:06:47.7893091Z DEBUG    homeassistant.loader:loader.py:1005 Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7893591Z INFO     homeassistant.setup:setup.py:384 Setting up sensor
2026-01-03T22:06:47.7894042Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.7894655Z INFO     homeassistant.components.sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.7895512Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.7896610Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.7898825Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.665497-08:00>>
2026-01-03T22:06:47.7901125Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.7902170Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.7905643Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.666187-08:00>>
2026-01-03T22:06:47.7909153Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.7910211Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.7912920Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.666911-08:00>>
2026-01-03T22:06:47.7915578Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.7916760Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.7920298Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.667566-08:00>>
2026-01-03T22:06:47.7923321Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.7924352Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.7927117Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.668436-08:00>>
2026-01-03T22:06:47.7929712Z DEBUG    homeassistant.loader:loader.py:1005 Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.7930214Z INFO     homeassistant.setup:setup.py:384 Setting up switch
2026-01-03T22:06:47.7930720Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.7931375Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.7932011Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.7932748Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.7933356Z INFO     homeassistant.components.switch:entity_platform.py:351 Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.7934241Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.7935273Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.7937246Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.672106-08:00>>
2026-01-03T22:06:47.7939008Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.7939759Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.7940527Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.7941339Z INFO     custom_components.thermostat_contact_sensors:__init__.py:184 Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7942097Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.7942629Z --------------------------- Captured stderr teardown ---------------------------
2026-01-03T22:06:47.7943200Z DEBUG:custom_components.thermostat_contact_sensors:Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.7944775Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.771691+00:00'}}
2026-01-03T22:06:47.7946629Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7948918Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.772135+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7950832Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.7951398Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.7953668Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.662037-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.773529-08:00>>
2026-01-03T22:06:47.7958280Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.665497-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.774431-08:00>>
2026-01-03T22:06:47.7964084Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.666187-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.775006-08:00>>
2026-01-03T22:06:47.7970512Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.666911-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.775605-08:00>>
2026-01-03T22:06:47.7977144Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.667566-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.776174-08:00>>
2026-01-03T22:06:47.7983635Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.668436-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.776746-08:00>>
2026-01-03T22:06:47.7988252Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.672106-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.777700-08:00>>
2026-01-03T22:06:47.7991359Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.778501+00:00'}}
2026-01-03T22:06:47.7993107Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.7995452Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.778877+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.7997482Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.7998040Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.7998524Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.7998951Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.7999992Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb3303d3da0>>}
2026-01-03T22:06:47.8001752Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb3303d2960>>}
2026-01-03T22:06:47.8003414Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb3303d2030>>}
2026-01-03T22:06:47.8004460Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.8004917Z DEBUG:asyncio:Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.8005305Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.8005630Z ---------------------------- Captured log teardown -----------------------------
2026-01-03T22:06:47.8006484Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:248 Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8008479Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.771691+00:00'}}
2026-01-03T22:06:47.8010352Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8012650Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.772135+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8014634Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.8015315Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.8017934Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.662037-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.773529-08:00>>
2026-01-03T22:06:47.8022436Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.665497-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.774431-08:00>>
2026-01-03T22:06:47.8028519Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.666187-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.775006-08:00>>
2026-01-03T22:06:47.8034831Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.666911-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.775605-08:00>>
2026-01-03T22:06:47.8041675Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.667566-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.776174-08:00>>
2026-01-03T22:06:47.8047811Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.668436-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.776746-08:00>>
2026-01-03T22:06:47.8052511Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.672106-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.777700-08:00>>
2026-01-03T22:06:47.8055677Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.778501+00:00'}}
2026-01-03T22:06:47.8057631Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8059913Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.778877+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8061903Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.8062586Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.8063266Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.8063763Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.8064867Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb3303d3da0>>}
2026-01-03T22:06:47.8066684Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb3303d2960>>}
2026-01-03T22:06:47.8068565Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb3303d2030>>}
2026-01-03T22:06:47.8069670Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.8070205Z DEBUG    asyncio:base_events.py:714 Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.8070827Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.8071236Z ____________ test_options_flow_sensor_count_updates_after_removing _____________
2026-01-03T22:06:47.8071863Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:362: in _async_configure
2026-01-03T22:06:47.8072395Z     user_input = data_schema(user_input)
2026-01-03T22:06:47.8072875Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:205: in __call__
2026-01-03T22:06:47.8073361Z     return self._compiled([], data)
2026-01-03T22:06:47.8073840Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:549: in validate_dict
2026-01-03T22:06:47.8074357Z     return base_validate(path, data.items(), out)
2026-01-03T22:06:47.8074883Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:382: in validate_mapping
2026-01-03T22:06:47.8075388Z     raise er.MultipleInvalid(errors)
2026-01-03T22:06:47.8075761Z E   voluptuous.error.MultipleInvalid: extra keys not allowed @ data['binary_sensors']
2026-01-03T22:06:47.8076067Z 
2026-01-03T22:06:47.8076355Z The above exception was the direct cause of the following exception:
2026-01-03T22:06:47.8076808Z tests/test_options_flow.py:468: in test_options_flow_sensor_count_updates_after_removing
2026-01-03T22:06:47.8077241Z     result = await hass.config_entries.options.async_configure(
2026-01-03T22:06:47.8077816Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:341: in async_configure
2026-01-03T22:06:47.8078380Z     result = await self._async_configure(flow_id, user_input)
2026-01-03T22:06:47.8078934Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:375: in _async_configure
2026-01-03T22:06:47.8079446Z     raise InvalidData(
2026-01-03T22:06:47.8079801Z E   homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.8080280Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.8080611Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.8080998Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.8082416Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.799279-08:00>>
2026-01-03T22:06:47.8084210Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.799459-08:00>>
2026-01-03T22:06:47.8085717Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.799592-08:00>>
2026-01-03T22:06:47.8087370Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.799740-08:00>>
2026-01-03T22:06:47.8089012Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.799862-08:00>>
2026-01-03T22:06:47.8090482Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.799978-08:00>>
2026-01-03T22:06:47.8091516Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.8092128Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.8092806Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.8093568Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.8094410Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8095225Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.8095986Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.8096927Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8097756Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.8098514Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.8099348Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8100137Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.8100856Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.8101669Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.8102447Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.8103295Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.8104093Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.8104838Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.8105336Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.8105727Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.8106373Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.8107770Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.799279-08:00>>
2026-01-03T22:06:47.8109741Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.799459-08:00>>
2026-01-03T22:06:47.8111324Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.799592-08:00>>
2026-01-03T22:06:47.8112930Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.799740-08:00>>
2026-01-03T22:06:47.8114533Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.799862-08:00>>
2026-01-03T22:06:47.8116072Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.799978-08:00>>
2026-01-03T22:06:47.8117287Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.8117960Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.8118731Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.8119612Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.8120514Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8121439Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.8122289Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.8123319Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8124241Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.8125108Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.8126021Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8127023Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.8127838Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.8128836Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.8129713Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.8130505Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.8131369Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.8132176Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.8132720Z ----------------------------- Captured stderr call -----------------------------
2026-01-03T22:06:47.8133261Z INFO:homeassistant.loader:Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.8134324Z WARNING:homeassistant.loader:We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.8135392Z DEBUG:homeassistant.loader:Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8135937Z INFO:homeassistant.setup:Setting up thermostat_contact_sensors
2026-01-03T22:06:47.8136590Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.8137338Z DEBUG:custom_components.thermostat_contact_sensors:Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8138332Z DEBUG:custom_components.thermostat_contact_sensors:Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.8139315Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.8139969Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:No stored occupancy state found
2026-01-03T22:06:47.8140830Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8141978Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8142951Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.8143823Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:No stored thermostat controller state found
2026-01-03T22:06:47.8144650Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.8145442Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Contact sensor pause state: False
2026-01-03T22:06:47.8146436Z INFO:custom_components.thermostat_contact_sensors.thermostat_control:Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.8147486Z DEBUG:homeassistant.core:Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.8149625Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.799279-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.812606-08:00>>
2026-01-03T22:06:47.8151762Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat action executed: turn_off
2026-01-03T22:06:47.8152507Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.8153235Z INFO:homeassistant.loader:Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.8153764Z INFO:homeassistant.loader:Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.8154248Z INFO:homeassistant.loader:Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.8154921Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.8155667Z DEBUG:homeassistant.loader:Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8156294Z INFO:homeassistant.setup:Setting up binary_sensor
2026-01-03T22:06:47.8156713Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.8157277Z INFO:homeassistant.components.binary_sensor:Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.8157953Z DEBUG:homeassistant.core:Bus:Handling <Event device_registry_updated[L]: action=create, device_id=fb7dee7a35b692299388fdaf4ad8c37f>
2026-01-03T22:06:47.8158879Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.8159887Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.8161693Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.824193-08:00>>
2026-01-03T22:06:47.8163306Z DEBUG:homeassistant.loader:Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8163734Z INFO:homeassistant.setup:Setting up sensor
2026-01-03T22:06:47.8164110Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.8164802Z INFO:homeassistant.components.sensor:Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.8165536Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.8166548Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.8168705Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.827608-08:00>>
2026-01-03T22:06:47.8171012Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.8171955Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.8175260Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.828286-08:00>>
2026-01-03T22:06:47.8178690Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.8179657Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.8182221Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.828967-08:00>>
2026-01-03T22:06:47.8184807Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.8185780Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.8189477Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.829583-08:00>>
2026-01-03T22:06:47.8192425Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.8193489Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.8195978Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.830217-08:00>>
2026-01-03T22:06:47.8198416Z DEBUG:homeassistant.loader:Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8198848Z INFO:homeassistant.setup:Setting up switch
2026-01-03T22:06:47.8199276Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.8199873Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.8200456Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.8200987Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.8201493Z INFO:homeassistant.components.switch:Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.8202230Z INFO:homeassistant.helpers.entity_registry:Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.8203169Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.8204981Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.833793-08:00>>
2026-01-03T22:06:47.8206772Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.8207461Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.8208169Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.8209037Z INFO:custom_components.thermostat_contact_sensors:Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8209736Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.8210234Z ------------------------------ Captured log call -------------------------------
2026-01-03T22:06:47.8210795Z INFO     homeassistant.loader:loader.py:774 Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.8211924Z WARNING  homeassistant.loader:loader.py:688 We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.8213068Z DEBUG    homeassistant.loader:loader.py:1005 Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8213789Z INFO     homeassistant.setup:setup.py:384 Setting up thermostat_contact_sensors
2026-01-03T22:06:47.8214440Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.8215255Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:138 Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8216432Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:157 Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.8217496Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:413 Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.8218246Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:509 No stored occupancy state found
2026-01-03T22:06:47.8219231Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8220500Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8221563Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:455 Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.8222456Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1239 No stored thermostat controller state found
2026-01-03T22:06:47.8223418Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:393 Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.8224354Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:452 Contact sensor pause state: False
2026-01-03T22:06:47.8225418Z INFO     custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1166 Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.8226665Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.8228984Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.799279-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.812606-08:00>>
2026-01-03T22:06:47.8231086Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:303 Thermostat action executed: turn_off
2026-01-03T22:06:47.8231974Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.8232761Z INFO     homeassistant.loader:loader.py:774 Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.8233364Z INFO     homeassistant.loader:loader.py:774 Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.8233927Z INFO     homeassistant.loader:loader.py:774 Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.8234814Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:597 Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.8235654Z DEBUG    homeassistant.loader:loader.py:1005 Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8236323Z INFO     homeassistant.setup:setup.py:384 Setting up binary_sensor
2026-01-03T22:06:47.8236815Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.8237482Z INFO     homeassistant.components.binary_sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.8238259Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event device_registry_updated[L]: action=create, device_id=fb7dee7a35b692299388fdaf4ad8c37f>
2026-01-03T22:06:47.8239270Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.8240374Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.8242252Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.824193-08:00>>
2026-01-03T22:06:47.8242543Z DEBUG    homeassistant.loader:loader.py:1005 Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8242677Z INFO     homeassistant.setup:setup.py:384 Setting up sensor
2026-01-03T22:06:47.8242923Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.8243220Z INFO     homeassistant.components.sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.8243711Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.8244143Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.8245959Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.827608-08:00>>
2026-01-03T22:06:47.8246577Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.8247030Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.8249863Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.828286-08:00>>
2026-01-03T22:06:47.8250503Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.8250967Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.8253052Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.828967-08:00>>
2026-01-03T22:06:47.8253582Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.8254057Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.8257244Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.829583-08:00>>
2026-01-03T22:06:47.8257773Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.8258217Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.8260263Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.830217-08:00>>
2026-01-03T22:06:47.8260675Z DEBUG    homeassistant.loader:loader.py:1005 Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8260809Z INFO     homeassistant.setup:setup.py:384 Setting up switch
2026-01-03T22:06:47.8261105Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.8261389Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.8261665Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.8261911Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.8262204Z INFO     homeassistant.components.switch:entity_platform.py:351 Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.8262707Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.8263152Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.8264502Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.833793-08:00>>
2026-01-03T22:06:47.8264858Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.8265189Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.8265543Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.8265928Z INFO     custom_components.thermostat_contact_sensors:__init__.py:184 Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8266374Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.8266532Z --------------------------- Captured stderr teardown ---------------------------
2026-01-03T22:06:47.8267008Z DEBUG:custom_components.thermostat_contact_sensors:Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8268179Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.934341+00:00'}}
2026-01-03T22:06:47.8268693Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8270278Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.934798+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8270633Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.8270867Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.8272838Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.824193-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.936162-08:00>>
2026-01-03T22:06:47.8275226Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.827608-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.937027-08:00>>
2026-01-03T22:06:47.8278836Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.828286-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.937560-08:00>>
2026-01-03T22:06:47.8281494Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.828967-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.938195-08:00>>
2026-01-03T22:06:47.8285459Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.829583-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.938754-08:00>>
2026-01-03T22:06:47.8288151Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.830217-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.939315-08:00>>
2026-01-03T22:06:47.8290028Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.833793-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.940233-08:00>>
2026-01-03T22:06:47.8291310Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.941027+00:00'}}
2026-01-03T22:06:47.8291826Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8293410Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.941360+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8293760Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.8293994Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.8294163Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.8294349Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.8295123Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb32d461580>>}
2026-01-03T22:06:47.8295936Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb32d460ad0>>}
2026-01-03T22:06:47.8296832Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb32d461250>>}
2026-01-03T22:06:47.8297001Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.8297207Z DEBUG:asyncio:Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.8297315Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.8297462Z ---------------------------- Captured log teardown -----------------------------
2026-01-03T22:06:47.8297836Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:248 Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8299052Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.934341+00:00'}}
2026-01-03T22:06:47.8299649Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8301383Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.934798+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8301699Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.8301984Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.8304087Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.824193-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:42.936162-08:00>>
2026-01-03T22:06:47.8306589Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.827608-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:42.937027-08:00>>
2026-01-03T22:06:47.8310023Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.828286-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:42.937560-08:00>>
2026-01-03T22:06:47.8312814Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.828967-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:42.938195-08:00>>
2026-01-03T22:06:47.8316811Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.829583-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:42.938754-08:00>>
2026-01-03T22:06:47.8319576Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.830217-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:42.939315-08:00>>
2026-01-03T22:06:47.8321480Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.833793-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:42.940233-08:00>>
2026-01-03T22:06:47.8322697Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:42.941027+00:00'}}
2026-01-03T22:06:47.8323400Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8325027Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:42.941360+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8325335Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.8325697Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.8325899Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.8326115Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.8327046Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb32d461580>>}
2026-01-03T22:06:47.8327890Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb32d460ad0>>}
2026-01-03T22:06:47.8328735Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb32d461250>>}
2026-01-03T22:06:47.8328942Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.8329200Z DEBUG    asyncio:base_events.py:714 Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.8329356Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.8329532Z __________ test_options_flow_enable_disable_areas_shows_correct_count __________
2026-01-03T22:06:47.8329906Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:362: in _async_configure
2026-01-03T22:06:47.8329994Z     user_input = data_schema(user_input)
2026-01-03T22:06:47.8330317Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:205: in __call__
2026-01-03T22:06:47.8330400Z     return self._compiled([], data)
2026-01-03T22:06:47.8330731Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:549: in validate_dict
2026-01-03T22:06:47.8330841Z     return base_validate(path, data.items(), out)
2026-01-03T22:06:47.8331186Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/voluptuous/schema_builder.py:382: in validate_mapping
2026-01-03T22:06:47.8331273Z     raise er.MultipleInvalid(errors)
2026-01-03T22:06:47.8331499Z E   voluptuous.error.MultipleInvalid: extra keys not allowed @ data['binary_sensors']
2026-01-03T22:06:47.8331509Z 
2026-01-03T22:06:47.8331671Z The above exception was the direct cause of the following exception:
2026-01-03T22:06:47.8331893Z tests/test_options_flow.py:522: in test_options_flow_enable_disable_areas_shows_correct_count
2026-01-03T22:06:47.8332047Z     result = await hass.config_entries.options.async_configure(
2026-01-03T22:06:47.8332523Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:341: in async_configure
2026-01-03T22:06:47.8332657Z     result = await self._async_configure(flow_id, user_input)
2026-01-03T22:06:47.8333014Z /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/homeassistant/data_entry_flow.py:375: in _async_configure
2026-01-03T22:06:47.8333093Z     raise InvalidData(
2026-01-03T22:06:47.8333338Z E   homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.8333484Z ---------------------------- Captured stderr setup -----------------------------
2026-01-03T22:06:47.8333587Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.8333807Z DEBUG:homeassistant.helpers.restore_state:Not creating cache - no saved states found
2026-01-03T22:06:47.8334910Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.960607-08:00>>
2026-01-03T22:06:47.8335635Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.960811-08:00>>
2026-01-03T22:06:47.8336464Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.960938-08:00>>
2026-01-03T22:06:47.8337215Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.961052-08:00>>
2026-01-03T22:06:47.8337932Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.961166-08:00>>
2026-01-03T22:06:47.8338617Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.961364-08:00>>
2026-01-03T22:06:47.8338897Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.8339154Z DEBUG:homeassistant.core:Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.8339494Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.8339844Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.8340259Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8340594Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.8340944Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.8341359Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8341815Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.8342165Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.8342573Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8342876Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.8343213Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.8343621Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.8344018Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.8344349Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.8344740Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.8345014Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.8345156Z ------------------------------ Captured log setup ------------------------------
2026-01-03T22:06:47.8345314Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.8345600Z DEBUG    homeassistant.helpers.restore_state:restore_state.py:147 Not creating cache - no saved states found
2026-01-03T22:06:47.8346758Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=None, new_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.960607-08:00>>
2026-01-03T22:06:47.8347519Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.front_door_contact, old_state=None, new_state=<state binary_sensor.front_door_contact=off; friendly_name=Front Door Contact, device_class=door @ 2026-01-03T14:06:42.960811-08:00>>
2026-01-03T22:06:47.8348279Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.back_window_contact, old_state=None, new_state=<state binary_sensor.back_window_contact=off; friendly_name=Back Window Contact, device_class=window @ 2026-01-03T14:06:42.960938-08:00>>
2026-01-03T22:06:47.8349058Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.garage_door_contact, old_state=None, new_state=<state binary_sensor.garage_door_contact=off; friendly_name=Garage Door Contact, device_class=garage_door @ 2026-01-03T14:06:42.961052-08:00>>
2026-01-03T22:06:47.8349804Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.living_room_motion, old_state=None, new_state=<state binary_sensor.living_room_motion=off; friendly_name=Living Room Motion, device_class=motion @ 2026-01-03T14:06:42.961166-08:00>>
2026-01-03T22:06:47.8350522Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.bedroom_motion, old_state=None, new_state=<state binary_sensor.bedroom_motion=off; friendly_name=Bedroom Motion, device_class=motion @ 2026-01-03T14:06:42.961364-08:00>>
2026-01-03T22:06:47.8350824Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=living_room>
2026-01-03T22:06:47.8351237Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event area_registry_updated[L]: action=create, area_id=bedroom>
2026-01-03T22:06:47.8351637Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.front_door_contact_2
2026-01-03T22:06:47.8352019Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.front_door_contact_2>
2026-01-03T22:06:47.8352467Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.front_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8352865Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.back_window_contact_2
2026-01-03T22:06:47.8353255Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.back_window_contact_2>
2026-01-03T22:06:47.8353801Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.back_window_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8354199Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.test entity: binary_sensor.garage_door_contact_2
2026-01-03T22:06:47.8354582Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.garage_door_contact_2>
2026-01-03T22:06:47.8355026Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=binary_sensor.garage_door_contact_2, changes=area_id=None>
2026-01-03T22:06:47.8355390Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_temperature
2026-01-03T22:06:47.8355765Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_temperature>
2026-01-03T22:06:47.8356318Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_temperature, changes=area_id=None>
2026-01-03T22:06:47.8356676Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.test entity: sensor.living_room_humidity
2026-01-03T22:06:47.8357044Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.living_room_humidity>
2026-01-03T22:06:47.8357465Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=update, entity_id=sensor.living_room_humidity, changes=area_id=None>
2026-01-03T22:06:47.8357767Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=climate, service=set_hvac_mode>
2026-01-03T22:06:47.8357924Z ----------------------------- Captured stderr call -----------------------------
2026-01-03T22:06:47.8358221Z INFO:homeassistant.loader:Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.8358905Z WARNING:homeassistant.loader:We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.8359214Z DEBUG:homeassistant.loader:Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8359366Z INFO:homeassistant.setup:Setting up thermostat_contact_sensors
2026-01-03T22:06:47.8359693Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.8360024Z DEBUG:custom_components.thermostat_contact_sensors:Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8360775Z DEBUG:custom_components.thermostat_contact_sensors:Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.8361100Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.8361351Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:No stored occupancy state found
2026-01-03T22:06:47.8361887Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8362412Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8362884Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.8363193Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:No stored thermostat controller state found
2026-01-03T22:06:47.8363619Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.8363906Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Contact sensor pause state: False
2026-01-03T22:06:47.8364445Z INFO:custom_components.thermostat_contact_sensors.thermostat_control:Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.8364881Z DEBUG:homeassistant.core:Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.8366612Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.960607-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.974220-08:00>>
2026-01-03T22:06:47.8366887Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat action executed: turn_off
2026-01-03T22:06:47.8367283Z DEBUG:homeassistant.loader:Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.8367523Z INFO:homeassistant.loader:Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.8367725Z INFO:homeassistant.loader:Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.8367931Z INFO:homeassistant.loader:Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.8368328Z DEBUG:custom_components.thermostat_contact_sensors.coordinator:Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.8368589Z DEBUG:homeassistant.loader:Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8368708Z INFO:homeassistant.setup:Setting up binary_sensor
2026-01-03T22:06:47.8368937Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.8369194Z INFO:homeassistant.components.binary_sensor:Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.8369543Z DEBUG:homeassistant.core:Bus:Handling <Event device_registry_updated[L]: action=create, device_id=91a54d7a2d8811bc43e84a773afe7f92>
2026-01-03T22:06:47.8370147Z INFO:homeassistant.helpers.entity_registry:Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.8370586Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.8371883Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.985880-08:00>>
2026-01-03T22:06:47.8372130Z DEBUG:homeassistant.loader:Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8372334Z INFO:homeassistant.setup:Setting up sensor
2026-01-03T22:06:47.8372543Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.8372762Z INFO:homeassistant.components.sensor:Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.8373194Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.8373601Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.8375279Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.989224-08:00>>
2026-01-03T22:06:47.8375740Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.8376252Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.8379070Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.989884-08:00>>
2026-01-03T22:06:47.8379533Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.8379961Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.8382119Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.990525-08:00>>
2026-01-03T22:06:47.8382589Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.8383016Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.8386047Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.991209-08:00>>
2026-01-03T22:06:47.8386587Z INFO:homeassistant.helpers.entity_registry:Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.8387012Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.8389009Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.991850-08:00>>
2026-01-03T22:06:47.8389255Z DEBUG:homeassistant.loader:Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8389359Z INFO:homeassistant.setup:Setting up switch
2026-01-03T22:06:47.8389617Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.8389867Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.8390119Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.8390322Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.8390538Z INFO:homeassistant.components.switch:Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.8390985Z INFO:homeassistant.helpers.entity_registry:Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.8391508Z DEBUG:homeassistant.core:Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.8392823Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.995346-08:00>>
2026-01-03T22:06:47.8393137Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.8393441Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.8393761Z DEBUG:homeassistant.core:Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.8394209Z INFO:custom_components.thermostat_contact_sensors:Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8394476Z DEBUG:homeassistant.core:Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.8394620Z ------------------------------ Captured log call -------------------------------
2026-01-03T22:06:47.8394963Z INFO     homeassistant.loader:loader.py:774 Loaded thermostat_contact_sensors from custom_components.thermostat_contact_sensors
2026-01-03T22:06:47.8395685Z WARNING  homeassistant.loader:loader.py:688 We found a custom integration thermostat_contact_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2026-01-03T22:06:47.8396036Z DEBUG    homeassistant.loader:loader.py:1005 Component thermostat_contact_sensors import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8396359Z INFO     homeassistant.setup:setup.py:384 Setting up thermostat_contact_sensors
2026-01-03T22:06:47.8396733Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['config_flow'] took 0.00s
2026-01-03T22:06:47.8397100Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:138 Setting up Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8397722Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:157 Monitoring 3 contact sensors for pause feature: ['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact']
2026-01-03T22:06:47.8398095Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:413 Built occupancy tracking for 2 areas with 3 total sensors
2026-01-03T22:06:47.8398397Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:509 No stored occupancy state found
2026-01-03T22:06:47.8399000Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area living_room scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8399573Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:573 Area bedroom scan starting: was_occupied=False, had_restored_occupancy_start=False, is_active=False, occupancy_start_time=None
2026-01-03T22:06:47.8399992Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:455 Occupancy tracker setup complete. Monitoring 3 sensors across 2 areas
2026-01-03T22:06:47.8400387Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1239 No stored thermostat controller state found
2026-01-03T22:06:47.8400877Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:393 Coordinator setup complete. Monitoring 3 sensors for thermostat climate.test_thermostat
2026-01-03T22:06:47.8401363Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:452 Contact sensor pause state: False
2026-01-03T22:06:47.8401985Z INFO     custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1166 Executing thermostat TURN_OFF action: setting climate.test_thermostat to off. Reason: No active or critical rooms (idle)
2026-01-03T22:06:47.8402448Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event call_service[L]: domain=climate, service=set_hvac_mode, service_data=entity_id=climate.test_thermostat, hvac_mode=off>
2026-01-03T22:06:47.8404134Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=climate.test_thermostat, old_state=<state climate.test_thermostat=heat; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.960607-08:00>, new_state=<state climate.test_thermostat=off; friendly_name=Test Thermostat, hvac_modes=[<HVACMode.OFF: 'off'>, <HVACMode.HEAT: 'heat'>, <HVACMode.COOL: 'cool'>, <HVACMode.AUTO: 'auto'>], current_temperature=20, temperature=22 @ 2026-01-03T14:06:42.974220-08:00>>
2026-01-03T22:06:47.8404568Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:303 Thermostat action executed: turn_off
2026-01-03T22:06:47.8405179Z DEBUG    homeassistant.loader:loader.py:1193 Importing platforms for thermostat_contact_sensors executor=[] loop=['binary_sensor', 'sensor', 'switch'] took 0.00s
2026-01-03T22:06:47.8405627Z INFO     homeassistant.loader:loader.py:774 Loaded binary_sensor from homeassistant.components.binary_sensor
2026-01-03T22:06:47.8405871Z INFO     homeassistant.loader:loader.py:774 Loaded sensor from homeassistant.components.sensor
2026-01-03T22:06:47.8406108Z INFO     homeassistant.loader:loader.py:774 Loaded switch from homeassistant.components.switch
2026-01-03T22:06:47.8406704Z DEBUG    custom_components.thermostat_contact_sensors.coordinator:coordinator.py:597 Thermostat climate.test_thermostat changed from heat to off (is_paused=False)
2026-01-03T22:06:47.8407008Z DEBUG    homeassistant.loader:loader.py:1005 Component binary_sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8407168Z INFO     homeassistant.setup:setup.py:384 Setting up binary_sensor
2026-01-03T22:06:47.8407429Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=binary_sensor>
2026-01-03T22:06:47.8407756Z INFO     homeassistant.components.binary_sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.binary_sensor
2026-01-03T22:06:47.8408135Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event device_registry_updated[L]: action=create, device_id=91a54d7a2d8811bc43e84a773afe7f92>
2026-01-03T22:06:47.8408693Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new binary_sensor.thermostat_contact_sensors entity: binary_sensor.test_thermostat_contact_sensors_thermostat_paused
2026-01-03T22:06:47.8409168Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused>
2026-01-03T22:06:47.8410507Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=None, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.985880-08:00>>
2026-01-03T22:06:47.8410792Z DEBUG    homeassistant.loader:loader.py:1005 Component sensor import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8410936Z INFO     homeassistant.setup:setup.py:384 Setting up sensor
2026-01-03T22:06:47.8411305Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=sensor>
2026-01-03T22:06:47.8411593Z INFO     homeassistant.components.sensor:entity_platform.py:351 Setting up thermostat_contact_sensors.sensor
2026-01-03T22:06:47.8412097Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_open_sensors
2026-01-03T22:06:47.8412534Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_open_sensors>
2026-01-03T22:06:47.8414259Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.989224-08:00>>
2026-01-03T22:06:47.8414882Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_thermostat_control
2026-01-03T22:06:47.8415326Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_thermostat_control>
2026-01-03T22:06:47.8418716Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.989884-08:00>>
2026-01-03T22:06:47.8419269Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_occupancy
2026-01-03T22:06:47.8419775Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy>
2026-01-03T22:06:47.8421842Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.990525-08:00>>
2026-01-03T22:06:47.8422377Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_living_room_temperature
2026-01-03T22:06:47.8422982Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature>
2026-01-03T22:06:47.8425993Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.991209-08:00>>
2026-01-03T22:06:47.8426784Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new sensor.thermostat_contact_sensors entity: sensor.test_thermostat_contact_sensors_bedroom_occupancy
2026-01-03T22:06:47.8427237Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy>
2026-01-03T22:06:47.8429287Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=None, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.991850-08:00>>
2026-01-03T22:06:47.8429585Z DEBUG    homeassistant.loader:loader.py:1005 Component switch import took 0.000 seconds (loaded_executor=False)
2026-01-03T22:06:47.8429724Z INFO     homeassistant.setup:setup.py:384 Setting up switch
2026-01-03T22:06:47.8430015Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_off>
2026-01-03T22:06:47.8430297Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=turn_on>
2026-01-03T22:06:47.8430576Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=switch, service=toggle>
2026-01-03T22:06:47.8430814Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=switch>
2026-01-03T22:06:47.8431106Z INFO     homeassistant.components.switch:entity_platform.py:351 Setting up thermostat_contact_sensors.switch
2026-01-03T22:06:47.8431627Z INFO     homeassistant.helpers.entity_registry:entity_registry.py:918 Registered new switch.thermostat_contact_sensors entity: switch.test_thermostat_contact_sensors_respect_user_off
2026-01-03T22:06:47.8432068Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event entity_registry_updated[L]: action=create, entity_id=switch.test_thermostat_contact_sensors_respect_user_off>
2026-01-03T22:06:47.8433531Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=None, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.995346-08:00>>
2026-01-03T22:06:47.8433879Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=pause>
2026-01-03T22:06:47.8434214Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=resume>
2026-01-03T22:06:47.8434575Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event service_registered[L]: domain=thermostat_contact_sensors, service=recalculate>
2026-01-03T22:06:47.8434955Z INFO     custom_components.thermostat_contact_sensors:__init__.py:184 Thermostat Contact Sensors setup complete: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8435258Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event component_loaded[L]: component=thermostat_contact_sensors>
2026-01-03T22:06:47.8435517Z --------------------------- Captured stderr teardown ---------------------------
2026-01-03T22:06:47.8435853Z DEBUG:custom_components.thermostat_contact_sensors:Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8437140Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:43.093528+00:00'}}
2026-01-03T22:06:47.8437659Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8439242Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:43.093985+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8439508Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.8439738Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.8441709Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.985880-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:43.095350-08:00>>
2026-01-03T22:06:47.8444234Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.989224-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:43.096239-08:00>>
2026-01-03T22:06:47.8447727Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.989884-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:43.096809-08:00>>
2026-01-03T22:06:47.8450489Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.990525-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:43.097396-08:00>>
2026-01-03T22:06:47.8454341Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.991209-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:43.097952-08:00>>
2026-01-03T22:06:47.8457121Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.991850-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:43.098514-08:00>>
2026-01-03T22:06:47.8459004Z DEBUG:homeassistant.core:Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.995346-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:43.099452-08:00>>
2026-01-03T22:06:47.8460268Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:43.100249+00:00'}}
2026-01-03T22:06:47.8460789Z DEBUG:custom_components.thermostat_contact_sensors.thermostat_control:Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8462373Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:43.100593+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8462634Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Saved occupancy state for 2 areas
2026-01-03T22:06:47.8462861Z DEBUG:custom_components.thermostat_contact_sensors.occupancy:Occupancy tracker shut down
2026-01-03T22:06:47.8463031Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.8463223Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.8463991Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb32d542ae0>>}
2026-01-03T22:06:47.8464803Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb32d543a40>>}
2026-01-03T22:06:47.8465601Z DEBUG:pytest_homeassistant_custom_component.common:Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb32d5403b0>>}
2026-01-03T22:06:47.8465770Z DEBUG:homeassistant.core:Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.8465984Z DEBUG:asyncio:Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.8466085Z DEBUG:asyncio:Using selector: EpollSelector
2026-01-03T22:06:47.8466436Z ---------------------------- Captured log teardown -----------------------------
2026-01-03T22:06:47.8466821Z DEBUG    custom_components.thermostat_contact_sensors:__init__.py:248 Unloading Thermostat Contact Sensors: Test Thermostat Contact Sensors
2026-01-03T22:06:47.8468031Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:43.093528+00:00'}}
2026-01-03T22:06:47.8468627Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8470360Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:43.093985+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8470671Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.8470966Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.8472958Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=binary_sensor.test_thermostat_contact_sensors_thermostat_paused, old_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=off; thermostat=climate.test_thermostat, previous_mode=None, open_count=0, device_class=running, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Paused @ 2026-01-03T14:06:42.985880-08:00>, new_state=<state binary_sensor.test_thermostat_contact_sensors_thermostat_paused=unavailable; restored=True, device_class=running, icon=mdi:thermostat, friendly_name=Thermostat Paused, supported_features=0 @ 2026-01-03T14:06:43.095350-08:00>>
2026-01-03T22:06:47.8475362Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_open_sensors, old_state=<state sensor.test_thermostat_contact_sensors_open_sensors=0; state_class=measurement, open_sensors=[], open_sensor_names=[], open_doors=0, open_windows=0, monitored_sensors=['binary_sensor.front_door_contact', 'binary_sensor.back_window_contact', 'binary_sensor.garage_door_contact'], total_monitored=3, unit_of_measurement=sensors, icon=mdi:door-open, friendly_name=Test Thermostat Contact Sensors Open Sensors @ 2026-01-03T14:06:42.989224-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_open_sensors=unavailable; restored=True, state_class=measurement, icon=mdi:door-open, friendly_name=Open Sensors, supported_features=0, unit_of_measurement=sensors @ 2026-01-03T14:06:43.096239-08:00>>
2026-01-03T22:06:47.8478998Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_thermostat_control, old_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=idle; thermostat_entity_id=climate.test_thermostat, paused_by_contact_sensors=False, thermostat_name=Test Thermostat, hvac_mode=heat, is_on=True, target_temperature=22.0, target_temp_high=None, target_temp_low=None, active_room_count=0, satiated_room_count=0, all_active_rooms_satiated=False, recommended_action=turn_off, action_reason=No active or critical rooms (idle), can_turn_on=True, can_turn_on_reason=No previous off time recorded, can_turn_off=True, can_turn_off_reason=No previous on time recorded, room_summary=living_room=area_name=living_room, is_satiated=False, satiation_reason=no_temp_sensors, has_valid_readings=False, sensor_readings=, icon=mdi:thermostat, friendly_name=Test Thermostat Contact Sensors Thermostat Control @ 2026-01-03T14:06:42.989884-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_thermostat_control=unavailable; restored=True, icon=mdi:thermostat, friendly_name=Thermostat Control, supported_features=0 @ 2026-01-03T14:06:43.096809-08:00>>
2026-01-03T22:06:47.8481698Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=inactive; is_occupied=False, is_active=False, area_id=living_room, area_name=Living Room, occupied_sensor_count=0, total_sensor_count=2, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Living Room Occupancy @ 2026-01-03T14:06:42.990525-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Living Room Occupancy, supported_features=0 @ 2026-01-03T14:06:43.097396-08:00>>
2026-01-03T22:06:47.8485655Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_living_room_temperature, old_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unknown; state_class=measurement, area_id=living_room, area_name=Living Room, is_satiated=False, satiation_reason=no_temp_sensors, is_active=False, is_critical=False, critical_reason=None, has_valid_readings=False, sensor_readings=, determining_sensor=None, determining_temperature=None, target_temperature=None, distance_from_target=None, sensor_names=sensor.living_room_temperature=sensor.living_room_temperature, hvac_mode=heat, thermostat_target=22.0, unit_of_measurement=Â°, icon=mdi:thermometer, friendly_name=Test Thermostat Contact Sensors Living Room Temperature @ 2026-01-03T14:06:42.991209-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_living_room_temperature=unavailable; restored=True, state_class=measurement, icon=mdi:thermometer, friendly_name=Living Room Temperature, supported_features=0, unit_of_measurement=Â° @ 2026-01-03T14:06:43.097952-08:00>>
2026-01-03T22:06:47.8488370Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=sensor.test_thermostat_contact_sensors_bedroom_occupancy, old_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=inactive; is_occupied=False, is_active=False, area_id=bedroom, area_name=Bedroom, occupied_sensor_count=0, total_sensor_count=1, min_occupancy_minutes=5, grace_period_minutes=5, occupied_sensors=[], occupancy_duration_minutes=0, occupied_since=None, time_until_active_minutes=None, is_in_grace_period=False, time_until_inactive_minutes=None, unoccupied_since=None, icon=mdi:home-outline, friendly_name=Test Thermostat Contact Sensors Bedroom Occupancy @ 2026-01-03T14:06:42.991850-08:00>, new_state=<state sensor.test_thermostat_contact_sensors_bedroom_occupancy=unavailable; restored=True, icon=mdi:home-outline, friendly_name=Bedroom Occupancy, supported_features=0 @ 2026-01-03T14:06:43.098514-08:00>>
2026-01-03T22:06:47.8490390Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event state_changed[L]: entity_id=switch.test_thermostat_contact_sensors_respect_user_off, old_state=<state switch.test_thermostat_contact_sensors_respect_user_off=off; description=When ON: Respects user's choice to keep thermostat off. When OFF: Always resumes thermostat when windows close., icon=mdi:account-cog, friendly_name=Test Thermostat Contact Sensors Respect User Off @ 2026-01-03T14:06:42.995346-08:00>, new_state=<state switch.test_thermostat_contact_sensors_respect_user_off=unavailable; restored=True, icon=mdi:account-cog, friendly_name=Respect User Off, supported_features=0 @ 2026-01-03T14:06:43.099452-08:00>>
2026-01-03T22:06:47.8491604Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.thermostat_controller.test_entry_id: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.thermostat_controller.test_entry_id', 'data': {'we_turned_off': True, 'previous_hvac_mode': 'heat', 'stored_target_temp': 22.0, 'stored_target_temp_low': None, 'stored_target_temp_high': None, 'saved_at': '2026-01-03T22:06:43.100249+00:00'}}
2026-01-03T22:06:47.8492305Z DEBUG    custom_components.thermostat_contact_sensors.thermostat_control:thermostat_control.py:1222 Saved thermostat controller state: we_turned_off=True, previous_hvac_mode=heat, target_temps=(22.0, None, None)
2026-01-03T22:06:47.8493933Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to thermostat_contact_sensors.test_entry_id.occupancy: {'version': 1, 'minor_version': 1, 'key': 'thermostat_contact_sensors.test_entry_id.occupancy', 'data': {'version': 1, 'saved_at': '2026-01-03T22:06:43.100593+00:00', 'areas': {'living_room': {'area_id': 'living_room', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}, 'bedroom': {'area_id': 'bedroom', 'is_active': False, 'occupancy_start_time': None, 'was_active_before_unoccupied': False, 'unoccupancy_start_time': None}}}}
2026-01-03T22:06:47.8494251Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:500 Saved occupancy state for 2 areas
2026-01-03T22:06:47.8494538Z DEBUG    custom_components.thermostat_contact_sensors.occupancy:occupancy.py:483 Occupancy tracker shut down
2026-01-03T22:06:47.8494741Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_stop[L]>
2026-01-03T22:06:47.8494961Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_final_write[L]>
2026-01-03T22:06:47.8495775Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.area_registry: {'version': 1, 'minor_version': 7, 'key': 'core.area_registry', 'data_func': <bound method AreaRegistry._data_to_save of <homeassistant.helpers.area_registry.AreaRegistry object at 0x7fb32d542ae0>>}
2026-01-03T22:06:47.8496711Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.entity_registry: {'version': 1, 'minor_version': 15, 'key': 'core.entity_registry', 'data_func': <bound method EntityRegistry._data_to_save of <homeassistant.helpers.entity_registry.EntityRegistry object at 0x7fb32d543a40>>}
2026-01-03T22:06:47.8497565Z DEBUG    pytest_homeassistant_custom_component.common:common.py:1423 Writing data to core.device_registry: {'version': 1, 'minor_version': 8, 'key': 'core.device_registry', 'data_func': <bound method DeviceRegistry._data_to_save of <homeassistant.helpers.device_registry.DeviceRegistry object at 0x7fb32d5403b0>>}
2026-01-03T22:06:47.8497763Z DEBUG    homeassistant.core:core.py:1548 Bus:Handling <Event homeassistant_close[L]>
2026-01-03T22:06:47.8498021Z DEBUG    asyncio:base_events.py:714 Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2026-01-03T22:06:47.8510359Z DEBUG    asyncio:selector_events.py:64 Using selector: EpollSelector
2026-01-03T22:06:47.8510382Z 
2026-01-03T22:06:47.8510587Z ---------- coverage: platform linux, python 3.12.12-final-0 ----------
2026-01-03T22:06:47.8510693Z Coverage XML written to file coverage.xml
2026-01-03T22:06:47.8510700Z 
2026-01-03T22:06:47.8510833Z =========================== short test summary info ============================
2026-01-03T22:06:47.8511493Z FAILED tests/test_options_flow.py::test_options_flow_area_config - homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.8511935Z FAILED tests/test_options_flow.py::test_options_flow_disable_area - homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.8512438Z FAILED tests/test_options_flow.py::test_options_flow_sensor_count_updates_after_adding - homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.8512942Z FAILED tests/test_options_flow.py::test_options_flow_sensor_count_updates_after_removing - homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.8513456Z FAILED tests/test_options_flow.py::test_options_flow_enable_disable_areas_shows_correct_count - homeassistant.data_entry_flow.InvalidData: Schema validation failed @ data['binary_sensors']
2026-01-03T22:06:47.8513962Z ERROR tests/test_switch.py::TestRespectUserOffSwitch::test_switch_default_state_is_off - NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.8514300Z ERROR tests/test_switch.py::TestRespectUserOffSwitch::test_switch_turn_on - NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.8514644Z ERROR tests/test_switch.py::TestRespectUserOffSwitch::test_switch_turn_off - NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.8515099Z ERROR tests/test_switch.py::TestRespectUserOffBehavior::test_thermostat_off_resumes_when_respect_off_disabled - NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.8515536Z ERROR tests/test_switch.py::TestRespectUserOffBehavior::test_thermostat_stays_off_when_respect_off_enabled - NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.8515941Z ERROR tests/test_switch.py::TestRespectUserOffBehavior::test_active_thermostat_always_resumes - NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.8516476Z ERROR tests/test_switch.py::TestRespectUserOffBehavior::test_switch_extra_state_attributes - NameError: name 'CONF_BINARY_SENSORS' is not defined
2026-01-03T22:06:47.8516619Z =================== 5 failed, 364 passed, 7 errors in 35.17s ===================
2026-01-03T22:06:48.1446077Z ##[error]Process completed with exit code 1.
2026-01-03T22:06:48.1548223Z Post job cleanup.
2026-01-03T22:06:48.2474294Z [command]/usr/bin/git version
2026-01-03T22:06:48.2511366Z git version 2.52.0
2026-01-03T22:06:48.2553718Z Temporarily overriding HOME='/home/runner/work/_temp/54be129e-8d3b-4f64-b6ca-0c1c85d0a7e0' before making global git config changes
2026-01-03T22:06:48.2554803Z Adding repository directory to the temporary git global config as a safe directory
2026-01-03T22:06:48.2566635Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/ha-thermostat-contact-sensors/ha-thermostat-contact-sensors
2026-01-03T22:06:48.2600208Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-01-03T22:06:48.2631825Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-01-03T22:06:48.2857146Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-03T22:06:48.2877318Z http.https://github.com/.extraheader
2026-01-03T22:06:48.2889335Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2026-01-03T22:06:48.2918489Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-01-03T22:06:48.3138299Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-03T22:06:48.3168706Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-01-03T22:06:48.3502401Z Cleaning up orphan processes